<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>M2TWEOP LuaPlugin Documentation</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300&display=swap" rel="stylesheet">

    <!-- Meta stuff -->
    <meta property="og:title" content="M2TWEOP LuaPlugin Documentation">
    <meta property="og:description" content="Documentation, tutorials and example code for M2TWEOP's LuaPlugin.">
    <meta property="og:image" content="https://i.imgur.com/mQIK1oo.png">

    <!-- Favicon-->
   <link rel="icon" type="image/x-icon" href="https://i.imgur.com/mQIK1oo.png">


</head>
<body>

<div id="container">

<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>

    <h1><a href="../../index.html">Home</a></h1>



<h2>Data Types</h2>
<ul>

<details>
  <summary><a href="#M2TWEOP">M2TWEOP </a></summary>
    <li><a href="#M2TWEOP">M2TWEOP</a></li>
    <li><a href="#M2TWEOP.getModPath">M2TWEOP.getModPath ()</a></li>
    <li><a href="#M2TWEOP.getPluginPath">M2TWEOP.getPluginPath ()</a></li>
    <li><a href="#M2TWEOP.loadTexture">M2TWEOP.loadTexture (path)</a></li>
    <li><a href="#M2TWEOP.unloadTexture">M2TWEOP.unloadTexture (id)</a></li>
    <li><a href="#M2TWEOP.setAncillariesLimit">M2TWEOP.setAncillariesLimit (newLimit)</a></li>
    <li><a href="#M2TWEOP.unlockGameConsoleCommands">M2TWEOP.unlockGameConsoleCommands ()</a></li>
    <li><a href="#M2TWEOP.setMaxBgSize">M2TWEOP.setMaxBgSize (newSize)</a></li>
    <li><a href="#M2TWEOP.setEDUUnitsSize">M2TWEOP.setEDUUnitsSize (minSize, maxSize)</a></li>
    <li><a href="#M2TWEOP.setBuildingChainLimit">M2TWEOP.setBuildingChainLimit (limit)</a></li>
    <li><a href="#M2TWEOP.setConversionLvlFromCastle">M2TWEOP.setConversionLvlFromCastle (castleLvl, convertToLvl)</a></li>
    <li><a href="#M2TWEOP.setConversionLvlFromCity">M2TWEOP.setConversionLvlFromCity (cityLvl, convertToLvl)</a></li>
    <li><a href="#M2TWEOP.setGuildCooldown">M2TWEOP.setGuildCooldown (turns)</a></li>
    <li><a href="#M2TWEOP.toggleUnitsBMapHighlight">M2TWEOP.toggleUnitsBMapHighlight ()</a></li>
    <li><a href="#M2TWEOP.setReligionsLimit">M2TWEOP.setReligionsLimit (newLimit)</a></li>
    <li><a href="#M2TWEOP.isTileFree">M2TWEOP.isTileFree (X, Y)</a></li>
    <li><a href="#M2TWEOP.getTileRegionID">M2TWEOP.getTileRegionID (x, y)</a></li>
    <li><a href="#M2TWEOP.getRegionOwner">M2TWEOP.getRegionOwner (regionID)</a></li>
</details>


<details>
  <summary><a href="#gameSTDUITable">gameSTDUITable </a></summary>
    <li><a href="#gameSTDUI">gameSTDUI</a></li>
    <li><a href="#gameSTDUI.getUiElement">gameSTDUI.getUiElement (elementName)</a></li>
</details>


<details>
  <summary><a href="#uiElementStruct">uiElementStruct </a></summary>
    <li><a href="#uiElementStruct">uiElementStruct</a></li>
    <li><a href="#gameSTDUI.getSubElement">gameSTDUI.getSubElement (index)</a></li>
    <li><a href="#uiElementStruct:execute">uiElementStruct:execute ()</a></li>
</details>


<details>
  <summary><a href="#Strat_Map_Objects">Strat Map Objects </a></summary>
    <li><a href="#stratmap.objects">stratmap.objects</a></li>
    <li><a href="#objects.addModelToGame">objects.addModelToGame (modelPath, modelId)</a></li>
    <li><a href="#objects.setModel">objects.setModel (xCoord, yCoord, modelId, modelId2)</a></li>
    <li><a href="#objects.replaceTile">objects.replaceTile (label, xCoord, yCoord, filename, weather, dayTime)</a></li>
</details>


<details>
  <summary><a href="#Camera">Camera </a></summary>
    <li><a href="#stratmap.camera">stratmap.camera</a></li>
    <li><a href="#camera.move">camera.move (xCoord, yCoord)</a></li>
    <li><a href="#camera.jump">camera.jump (xCoord, yCoord)</a></li>
    <li><a href="#camera.zoom">camera.zoom (distance)</a></li>
</details>


<details>
  <summary><a href="#Game">Game </a></summary>
    <li><a href="#stratmap.game">stratmap.game</a></li>
    <li><a href="#game.callConsole">game.callConsole ()</a></li>
    <li><a href="#game.getFactionsCount">game.getFactionsCount ()</a></li>
    <li><a href="#game.getFaction">game.getFaction (index)</a></li>
    <li><a href="#game.getGuild">game.getGuild (index)</a></li>
    <li><a href="#game.createCharacterByString">game.createCharacterByString (type, faction, age, name, name2, subFaction, portrait_custom, xCoord, yCoord)</a></li>
    <li><a href="#game.createArmy">game.createArmy (ourGeneral)</a></li>
    <li><a href="#game.createArmyInSettlement">game.createArmyInSettlement (settlement)</a></li>
    <li><a href="#game.getScriptCounter">game.getScriptCounter (counterName)</a></li>
    <li><a href="#game.setScriptCounter">game.setScriptCounter (counterName, value)</a></li>
</details>


<details>
  <summary><a href="#Stratmap">Stratmap </a></summary>
    <li><a href="#stratmap">stratmap</a></li>
</details>


<details>
  <summary><a href="#Unit">Unit </a></summary>
    <li><a href="#unit">unit</a></li>
    <li><a href="#unit:kill">unit:kill ()</a></li>
    <li><a href="#unit:setParams">unit:setParams (exp, armor, weapon)</a></li>
</details>


<details>
  <summary><a href="#EduEntry">EduEntry </a></summary>
    <li><a href="#eduEntry">eduEntry</a></li>
</details>


<details>
  <summary><a href="#Character">Character </a></summary>
    <li><a href="#character">character</a></li>
    <li><a href="#character:getTypeID">character:getTypeID ()</a></li>
    <li><a href="#character:setTypeID">character:setTypeID (typeId)</a></li>
    <li><a href="#character:moveToTile">character:moveToTile (xCoord, yCoord)</a></li>
    <li><a href="#character:reposition">character:reposition (xCoord, yCoord)</a></li>
    <li><a href="#character:kill">character:kill ()</a></li>
    <li><a href="#character:setBodyguardUnit">character:setBodyguardUnit (unit)</a></li>
</details>


<details>
  <summary><a href="#NamedCharacter">NamedCharacter </a></summary>
    <li><a href="#namedCharacter">namedCharacter</a></li>
    <li><a href="#namedCharacter:setAsHeir">namedCharacter:setAsHeir (onlyHeir)</a></li>
    <li><a href="#namedCharacter:isAlive">namedCharacter:isAlive ()</a></li>
    <li><a href="#namedCharacter:getTraits">namedCharacter:getTraits ()</a></li>
    <li><a href="#namedCharacter:addTrait">namedCharacter:addTrait (traitName, traitLevel)</a></li>
    <li><a href="#namedCharacter:removeTrait">namedCharacter:removeTrait (traitName)</a></li>
    <li><a href="#namedCharacter:getAncillary">namedCharacter:getAncillary (index)</a></li>
    <li><a href="#namedCharacter:addAncillary">namedCharacter:addAncillary (ancillaryName)</a></li>
    <li><a href="#namedCharacter:removeAncillary">namedCharacter:removeAncillary (ancillary)</a></li>
</details>


<details>
  <summary><a href="#Ancillary">Ancillary </a></summary>
    <li><a href="#ancillary">ancillary</a></li>
</details>


<details>
  <summary><a href="#traitContainer">traitContainer </a></summary>
    <li><a href="#traitContainer">traitContainer</a></li>
</details>


<details>
  <summary><a href="#FactionStruct">FactionStruct </a></summary>
    <li><a href="#factionStruct">factionStruct</a></li>
    <li><a href="#factionStruct:getFactionName">factionStruct:getFactionName ()</a></li>
    <li><a href="#factionStruct:getNamedCharacter">factionStruct:getNamedCharacter (number)</a></li>
    <li><a href="#factionStruct:getCharacter">factionStruct:getCharacter (number)</a></li>
    <li><a href="#factionStruct:getStack">factionStruct:getStack (number)</a></li>
    <li><a href="#factionStruct:getSettlement">factionStruct:getSettlement (number)</a></li>
    <li><a href="#factionStruct:getFort">factionStruct:getFort (number)</a></li>
    <li><a href="#factionStruct:getPort">factionStruct:getPort (number)</a></li>
    <li><a href="#factionStruct:getWatchtower">factionStruct:getWatchtower (number)</a></li>
</details>


<details>
  <summary><a href="#FactionStratMapStruct">FactionStratMapStruct </a></summary>
    <li><a href="#factionStratMapStruct">factionStratMapStruct</a></li>
</details>


<details>
  <summary><a href="#WatchtowerStruct">WatchtowerStruct </a></summary>
    <li><a href="#watchtowerStruct">watchtowerStruct</a></li>
</details>


<details>
  <summary><a href="#FortStruct">FortStruct </a></summary>
    <li><a href="#fortStruct">fortStruct</a></li>
</details>


<details>
  <summary><a href="#PortStruct">PortStruct </a></summary>
    <li><a href="#portStruct">portStruct</a></li>
</details>


<details>
  <summary><a href="#DockStruct">DockStruct </a></summary>
    <li><a href="#dockStruct">dockStruct</a></li>
</details>


<details>
  <summary><a href="#SettlementStruct">SettlementStruct </a></summary>
    <li><a href="#settlementStruct">settlementStruct</a></li>
    <li><a href="#settlementStruct:changeOwner">settlementStruct:changeOwner (newOwner)</a></li>
    <li><a href="#settlementStruct:getReligion">settlementStruct:getReligion (religionID)</a></li>
    <li><a href="#settlementStruct:setReligion">settlementStruct:setReligion (religionID, religionValue)</a></li>
    <li><a href="#settlementStruct:getGuildStanding">settlementStruct:getGuildStanding (guild_id)</a></li>
    <li><a href="#settlementStruct:setGuildStanding">settlementStruct:setGuildStanding (guild_id, standing)</a></li>
    <li><a href="#settlementStruct:getBuilding">settlementStruct:getBuilding (number)</a></li>
    <li><a href="#settlementStruct:createBuilding">settlementStruct:createBuilding (building_level_id)</a></li>
    <li><a href="#settlementStruct:destroyBuilding">settlementStruct:destroyBuilding (typeName, isReturnMoney)</a></li>
    <li><a href="#settlementStruct:getResource">settlementStruct:getResource (number)</a></li>
    <li><a href="#settlementStruct:getSiege">settlementStruct:getSiege (siegeIdx)</a></li>
</details>


<details>
  <summary><a href="#Building">Building </a></summary>
    <li><a href="#building">building</a></li>
    <li><a href="#building:getType">building:getType ()</a></li>
    <li><a href="#building:getName">building:getName ()</a></li>
</details>


<details>
  <summary><a href="#BuildingsQueue">BuildingsQueue </a></summary>
    <li><a href="#buildingsQueue">buildingsQueue</a></li>
    <li><a href="#buildingsQueue:getBuildingInQueue">buildingsQueue:getBuildingInQueue (position)</a></li>
</details>


<details>
  <summary><a href="#BuildingInQueue">BuildingInQueue </a></summary>
    <li><a href="#buildingInQueue">buildingInQueue</a></li>
    <li><a href="#building:getQueueBuildingType">building:getQueueBuildingType ()</a></li>
    <li><a href="#building:getQueueBuildingName">building:getQueueBuildingName ()</a></li>
</details>


<details>
  <summary><a href="#Guild">Guild </a></summary>
    <li><a href="#guild">guild</a></li>
</details>


<details>
  <summary><a href="#TradeResource">TradeResource </a></summary>
    <li><a href="#tradeResource">tradeResource</a></li>
    <li><a href="#tradeResource:setStratModel">tradeResource:setStratModel (modelId)</a></li>
    <li><a href="#tradeResource:getResourceID">tradeResource:getResourceID ()</a></li>
    <li><a href="#tradeResource:getResourceValue">tradeResource:getResourceValue ()</a></li>
    <li><a href="#tradeResource:getResourceHasMine">tradeResource:getResourceHasMine ()</a></li>
    <li><a href="#tradeResource:getResourceImage">tradeResource:getResourceImage ()</a></li>
</details>


<details>
  <summary><a href="#StackStruct">StackStruct </a></summary>
    <li><a href="#stackStruct">stackStruct</a></li>
    <li><a href="#stackStruct:getUnit">stackStruct:getUnit (number)</a></li>
    <li><a href="#stackStruct:getCharacter">stackStruct:getCharacter (number)</a></li>
    <li><a href="#stackStruct:findInSettlement">stackStruct:findInSettlement ()</a></li>
    <li><a href="#stackStruct:findInFort">stackStruct:findInFort ()</a></li>
    <li><a href="#stackStruct:createEOPUnit">stackStruct:createEOPUnit (index, exp, armor, weapon)</a></li>
    <li><a href="#stackStruct:createUnit">stackStruct:createUnit (type, exp, armor, weapon)</a></li>
    <li><a href="#stackStruct:createUnitByIDX">stackStruct:createUnitByIDX (index, exp, armor, weapon)</a></li>
    <li><a href="#stackStruct:siegeSettlement">stackStruct:siegeSettlement (settlement)</a></li>
    <li><a href="#stackStruct:attackArmy">stackStruct:attackArmy (defender)</a></li>
</details>


<details>
  <summary><a href="#siegeStruct">siegeStruct </a></summary>
    <li><a href="#siegeStruct">siegeStruct</a></li>
</details>


<details>
  <summary><a href="#EOP_Events">EOP Events </a></summary>
    <li><a href="#EventsFunctionsList">EventsFunctionsList</a></li>
    <li><a href="#draw">draw (pDevice)</a></li>
    <li><a href="#onNewGameStart">onNewGameStart ()</a></li>
    <li><a href="#onReadGameDbsAtStart">onReadGameDbsAtStart ()</a></li>
    <li><a href="#onClickAtTile">onClickAtTile (x, y)</a></li>
    <li><a href="#onCampaignMapLoaded">onCampaignMapLoaded ()</a></li>
    <li><a href="#onPluginLoad">onPluginLoad ()</a></li>
    <li><a href="#onCreateSaveFile">onCreateSaveFile ()</a></li>
    <li><a href="#onLoadSaveFile">onLoadSaveFile ()</a></li>
    <li><a href="#onChangeTurnNum">onChangeTurnNum (turnNumber)</a></li>
    <li><a href="#onSelectWorldpkgdesc">onSelectWorldpkgdesc (selectedRecordName, selectedRecordGroup)</a></li>
    <li><a href="#onfortificationlevelS">onfortificationlevelS (siegedSettlement)</a></li>
    <li><a href="#onEndSiege">onEndSiege (xCoord, yCoord)</a></li>
    <li><a href="#onStartSiege">onStartSiege (xCoord, yCoord)</a></li>
    <li><a href="#onCharacterSelected">onCharacterSelected (selectedChar)</a></li>
    <li><a href="#onPreFactionTurnStart">onPreFactionTurnStart (faction)</a></li>
    <li><a href="#onFactionTurnStart">onFactionTurnStart (faction)</a></li>
    <li><a href="#onFactionTurnEnd">onFactionTurnEnd (faction)</a></li>
    <li><a href="#onFactionNewCapital">onFactionNewCapital (faction)</a></li>
    <li><a href="#onFactionWarDeclared">onFactionWarDeclared (faction, targetFaction)</a></li>
    <li><a href="#onFactionAllianceDeclared">onFactionAllianceDeclared (faction, targetFaction)</a></li>
    <li><a href="#onFactionTradeAgreementMade">onFactionTradeAgreementMade (faction, targetFaction)</a></li>
    <li><a href="#onFactionBreakAlliance">onFactionBreakAlliance (faction, targetFaction)</a></li>
    <li><a href="#onGiveMoney">onGiveMoney (faction, targetFaction, amount)</a></li>
    <li><a href="#onUpdateAttitude">onUpdateAttitude (faction, targetFaction)</a></li>
    <li><a href="#onDemeanour">onDemeanour (faction, targetFaction, amount)</a></li>
    <li><a href="#onGeneralAssaultsGeneral">onGeneralAssaultsGeneral (attacker, defender)</a></li>
    <li><a href="#onGeneralAssaultsResidence">onGeneralAssaultsResidence (attacker, settlement, fort)</a></li>
    <li><a href="#onGeneralCaptureSettlement">onGeneralCaptureSettlement (attacker, settlement)</a></li>
    <li><a href="#onGeneralCaptureResidence">onGeneralCaptureResidence (attacker)</a></li>
    <li><a href="#onSiegeEquipmentCompleted">onSiegeEquipmentCompleted (settlement, fort)</a></li>
    <li><a href="#onPostBattle">onPostBattle (character)</a></li>
    <li><a href="#onMultiTurnMove">onMultiTurnMove (character)</a></li>
    <li><a href="#onSettlementSelected">onSettlementSelected (settlement)</a></li>
    <li><a href="#onSettlementUpgraded">onSettlementUpgraded (settlement)</a></li>
    <li><a href="#onSettlementConverted">onSettlementConverted (settlement)</a></li>
    <li><a href="#onCityRiots">onCityRiots (settlement)</a></li>
    <li><a href="#onUngarrisonedSettlement">onUngarrisonedSettlement (settlement)</a></li>
    <li><a href="#onUngarrisonedFort">onUngarrisonedFort (fort)</a></li>
    <li><a href="#onGiveSettlement">onGiveSettlement (settlement, fac1, fac2)</a></li>
    <li><a href="#onOccupySettlement">onOccupySettlement (character, targetFaction)</a></li>
    <li><a href="#onExterminatePopulation">onExterminatePopulation (character, targetFaction)</a></li>
    <li><a href="#onSackSettlement">onSackSettlement (character, targetFaction)</a></li>
    <li><a href="#onAddedToBuildingQueue">onAddedToBuildingQueue (settlement, buildNme)</a></li>
    <li><a href="#onBuildingDestroyed">onBuildingDestroyed (settlement, buildNme)</a></li>
    <li><a href="#onBuildingCompleted">onBuildingCompleted (fac, settlement)</a></li>
    <li><a href="#onEventCounter">onEventCounter (counter)</a></li>
    <li><a href="#onFactionExcommunicated">onFactionExcommunicated (fac)</a></li>
    <li><a href="#onDisaster">onDisaster (eventType)</a></li>
    <li><a href="#onHordeFormed">onHordeFormed (fac)</a></li>
    <li><a href="#onAddedToTrainingQueue">onAddedToTrainingQueue (sett, unitName)</a></li>
    <li><a href="#onUnitDisbanded">onUnitDisbanded (fac, unit)</a></li>
    <li><a href="#onUnitTrained">onUnitTrained (fac, sett, unit)</a></li>
    <li><a href="#onAgentCreated">onAgentCreated (character, agentType, sett)</a></li>
    <li><a href="#onObjSeen">onObjSeen (fac, targetFac, xCoord, yCoord)</a></li>
    <li><a href="#onTileSeen">onTileSeen (fac, xCoord, yCoord)</a></li>
    <li><a href="#onGameReloaded">onGameReloaded (something)</a></li>
    <li><a href="#onTransgression">onTransgression (fac, description, targetFac)</a></li>
    <li><a href="#onPopeAcceptsCrusadeTarget">onPopeAcceptsCrusadeTarget (crusade, target)</a></li>
    <li><a href="#onCrusadeCalled">onCrusadeCalled (crusade, target)</a></li>
    <li><a href="#onCrusadeEnds">onCrusadeEnds (crusade, target)</a></li>
    <li><a href="#onPopeRejectsCrusadeTarget">onPopeRejectsCrusadeTarget (crusade, target)</a></li>
    <li><a href="#onArmyTakesCrusadeTarget">onArmyTakesCrusadeTarget (crusade, target, army)</a></li>
    <li><a href="#onUnitsDesertCrusade">onUnitsDesertCrusade (crusade, target, fac)</a></li>
    <li><a href="#onPopeElected">onPopeElected (fac, fac2)</a></li>
    <li><a href="#onVotedForPope">onVotedForPope (fac)</a></li>
    <li><a href="#onAssassinCaughtAttackingPope">onAssassinCaughtAttackingPope (fac)</a></li>
    <li><a href="#onInquisitorAppointed">onInquisitorAppointed (fac, sett)</a></li>
    <li><a href="#onSettlementPanelOpen">onSettlementPanelOpen (sett)</a></li>
    <li><a href="#onFinancesPanelOpen">onFinancesPanelOpen (fac)</a></li>
    <li><a href="#onFactionSummaryPanelOpen">onFactionSummaryPanelOpen (fac)</a></li>
    <li><a href="#onFamilyTreePanelOpenFunc">onFamilyTreePanelOpenFunc (fac)</a></li>
    <li><a href="#onDiplomaticStandingPanelOpen">onDiplomaticStandingPanelOpen (fac)</a></li>
    <li><a href="#onDiplomacyPanelOpen">onDiplomacyPanelOpen (fac)</a></li>
    <li><a href="#onPreBattlePanelOpen">onPreBattlePanelOpen (fac)</a></li>
    <li><a href="#onNavalAutoResolvePanelOpen">onNavalAutoResolvePanelOpen ()</a></li>
    <li><a href="#onCharacterPanelOpen">onCharacterPanelOpen (selectedChar)</a></li>
    <li><a href="#onTradePanelOpen">onTradePanelOpen (sett)</a></li>
    <li><a href="#onRequestBuildingAdvice">onRequestBuildingAdvice (sett)</a></li>
    <li><a href="#onRequestTrainingAdvice">onRequestTrainingAdvice (sett, recommendedUnitEntry)</a></li>
    <li><a href="#onMessageOpen">onMessageOpen (fac, msgType)</a></li>
    <li><a href="#onIncomingMessage">onIncomingMessage (fac, msgType)</a></li>
    <li><a href="#onMessageClosed">onMessageClosed (msgType)</a></li>
    <li><a href="#onButtonPressed">onButtonPressed (buttonName)</a></li>
    <li><a href="#onScrollClosed">onScrollClosed (scrollName)</a></li>
    <li><a href="#onScrollOpened">onScrollOpened (scrollName)</a></li>
    <li><a href="#onUIElementVisible">onUIElementVisible (elementName)</a></li>
    <li><a href="#onScrollAdviceRequested">onScrollAdviceRequested (scrollName)</a></li>
    <li><a href="#onSettlementScrollAdviceRequested">onSettlementScrollAdviceRequested (sett, scrollName)</a></li>
    <li><a href="#onPreBattleScrollAdviceRequested">onPreBattleScrollAdviceRequested ()</a></li>
    <li><a href="#onNavalPreBattleScrollAdviceRequested">onNavalPreBattleScrollAdviceRequested ()</a></li>
    <li><a href="#onCollegeOfCardinalsPanelOpen">onCollegeOfCardinalsPanelOpen (college)</a></li>
    <li><a href="#onGuildUpgraded">onGuildUpgraded (sett, guildName)</a></li>
    <li><a href="#onGuildDestroyed">onGuildDestroyed (sett, guildID)</a></li>
    <li><a href="#onBrotherAdopted">onBrotherAdopted (character)</a></li>
    <li><a href="#onBirth">onBirth (child)</a></li>
    <li><a href="#onCharacterComesOfAge">onCharacterComesOfAge (character)</a></li>
    <li><a href="#onCharacterMarries">onCharacterMarries (husband)</a></li>
    <li><a href="#onCharacterMarriesPrincess">onCharacterMarriesPrincess (husband)</a></li>
    <li><a href="#onCharacterBecomesAFather">onCharacterBecomesAFather (father)</a></li>
    <li><a href="#onNewAdmiralCreated">onNewAdmiralCreated (admiral, sett)</a></li>
    <li><a href="#onShortcutTriggered">onShortcutTriggered (shortcut)</a></li>
    <li><a href="#onBecomesFactionLeader">onBecomesFactionLeader (leader)</a></li>
    <li><a href="#onBecomesFactionHeir">onBecomesFactionHeir (heir)</a></li>
</details>


<details>
  <summary><a href="#M2TWEOPDU">M2TWEOPDU </a></summary>
    <li><a href="#M2TWEOPDU">M2TWEOPDU</a></li>
    <li><a href="#M2TWEOPDU.addEopEduEntryFromFile">M2TWEOPDU.addEopEduEntryFromFile (filepath, eopEnryIndex)</a></li>
    <li><a href="#M2TWEOPDU.addEopEduEntryFromEDUID">M2TWEOPDU.addEopEduEntryFromEDUID (baseEnryIndex, eopEnryIndex)</a></li>
    <li><a href="#M2TWEOPDU.getEopEduEntryByID">M2TWEOPDU.getEopEduEntryByID (eopEnryIndex)</a></li>
    <li><a href="#M2TWEOPDU.getDataEopDu">M2TWEOPDU.getDataEopDu (eopEnryIndex)</a></li>
    <li><a href="#M2TWEOPDU.setEntryUnitCardTga">M2TWEOPDU.setEntryUnitCardTga (eopEnryIndex, newCardTga)</a></li>
    <li><a href="#M2TWEOPDU.setEntryInfoCardTga">M2TWEOPDU.setEntryInfoCardTga (eopEnryIndex, newInfoCardTga)</a></li>
    <li><a href="#M2TWEOPDU.setEntrySoldierModel">M2TWEOPDU.setEntrySoldierModel (eopEnryIndex, newSoldierModel)</a></li>
    <li><a href="#M2TWEOPDU.setEntryLocalizedName">M2TWEOPDU.setEntryLocalizedName (eopEnryIndex, newLocalizedName)</a></li>
    <li><a href="#M2TWEOPDU.setEntryLocalizedDescr">M2TWEOPDU.setEntryLocalizedDescr (eopEnryIndex, newLocalizedDescr)</a></li>
    <li><a href="#M2TWEOPDU.setEntryLocalizedShortDescr">M2TWEOPDU.setEntryLocalizedShortDescr (eopEnryIndex, newLocalizedShortDescr)</a></li>
</details>


<details>
  <summary><a href="#Campaign_Enums">Campaign Enums </a></summary>
    <li><a href="#dipRelType">dipRelType</a></li>
</details>


<details>
  <summary><a href="#Campaign">Campaign </a></summary>
    <li><a href="#gameDataAll.campaignStruct">gameDataAll.campaignStruct</a></li>
    <li><a href="#campaignStruct:checkDipStance">campaignStruct:checkDipStance (checkType, fac1, fac2)</a></li>
    <li><a href="#campaignStruct:setDipStance">campaignStruct:setDipStance (relType, fac1, fac2)</a></li>
    <li><a href="#campaignStruct:GetUnitSize">campaignStruct:GetUnitSize ()</a></li>
</details>


<details>
  <summary><a href="#gameDataAll">gameDataAll </a></summary>
    <li><a href="#gameDataAll">gameDataAll</a></li>
    <li><a href="#gameDataAll.get">gameDataAll.get ()</a></li>
</details>


<details>
  <summary><a href="#battleStruct">battleStruct </a></summary>
    <li><a href="#gameDataAll.battleStruct">gameDataAll.battleStruct</a></li>
</details>


<details>
  <summary><a href="#battleSide">battleSide </a></summary>
    <li><a href="#battleStruct.battleSide">battleStruct.battleSide</a></li>
    <li><a href="#battleSide.getWinConditionString">battleSide.getWinConditionString (condition)</a></li>
</details>


<details>
  <summary><a href="#trackedPointerArmy">trackedPointerArmy </a></summary>
    <li><a href="#battleSide.trackedPointerArmy">battleSide.trackedPointerArmy</a></li>
</details>


<details>
  <summary><a href="#deploymentAreaS">deploymentAreaS </a></summary>
    <li><a href="#trackedPointerArmy.deploymentAreaS">trackedPointerArmy.deploymentAreaS</a></li>
    <li><a href="#deploymentAreaS:getCoordPair">deploymentAreaS:getCoordPair ()</a></li>
</details>


<details>
  <summary><a href="#M2TWEOPFBX">M2TWEOPFBX </a></summary>
    <li><a href="#M2TWEOPFBX">M2TWEOPFBX</a></li>
    <li><a href="#M2TWEOPFBX.addFbxModel">M2TWEOPFBX.addFbxModel (modelPath, texturePath, modelID)</a></li>
    <li><a href="#M2TWEOPFBX.deleteFbxModel">M2TWEOPFBX.deleteFbxModel (modelID)</a></li>
    <li><a href="#M2TWEOPFBX.getFbxModel">M2TWEOPFBX.getFbxModel (modelID)</a></li>
    <li><a href="#M2TWEOPFBX.addFbxObject">M2TWEOPFBX.addFbxObject (modelID, objectID)</a></li>
    <li><a href="#M2TWEOPFBX.deleteFbxObject">M2TWEOPFBX.deleteFbxObject (object)</a></li>
    <li><a href="#M2TWEOPFBX.getFbxObject">M2TWEOPFBX.getFbxObject (object)</a></li>
    <li><a href="#M2TWEOPFBX.setFbxObjectCoords">M2TWEOPFBX.setFbxObjectCoords (fbx, x, y, z)</a></li>
    <li><a href="#M2TWEOPFBX.getFbxObjectCoords">M2TWEOPFBX.getFbxObjectCoords (fbx)</a></li>
    <li><a href="#M2TWEOPFBX.setFbxObjectSize">M2TWEOPFBX.setFbxObjectSize (fbx, sizeModifier)</a></li>
    <li><a href="#M2TWEOPFBX.getFbxObjectSize">M2TWEOPFBX.getFbxObjectSize (fbx)</a></li>
    <li><a href="#M2TWEOPFBX.setFbxObjectDrawState">M2TWEOPFBX.setFbxObjectDrawState (fbx, is)</a></li>
    <li><a href="#M2TWEOPFBX.getFbxObjectDrawState">M2TWEOPFBX.getFbxObjectDrawState (fbx)</a></li>
    <li><a href="#M2TWEOPFBX.setFbxObjectAnimState">M2TWEOPFBX.setFbxObjectAnimState (fbx, is)</a></li>
    <li><a href="#M2TWEOPFBX.getFbxObjectAnimState">M2TWEOPFBX.getFbxObjectAnimState (fbx)</a></li>
    <li><a href="#M2TWEOPFBX.setFbxObjectDrawType">M2TWEOPFBX.setFbxObjectDrawType (fbx, current)</a></li>
    <li><a href="#M2TWEOPFBX.getFbxObjectDrawType">M2TWEOPFBX.getFbxObjectDrawType (fbx)</a></li>
</details>


<details>
  <summary><a href="#M2TWEOPSounds">M2TWEOPSounds </a></summary>
    <li><a href="#M2TWEOPSounds">M2TWEOPSounds</a></li>
    <li><a href="#M2TWEOPSounds.createEOPSound">M2TWEOPSounds.createEOPSound (soundPath)</a></li>
    <li><a href="#M2TWEOPSounds.deleteEOPSound">M2TWEOPSounds.deleteEOPSound (soundID)</a></li>
    <li><a href="#M2TWEOPSounds.playEOPSound">M2TWEOPSounds.playEOPSound (soundID)</a></li>
    <li><a href="#M2TWEOPSounds.setEOPSoundOffset">M2TWEOPSounds.setEOPSoundOffset (soundID, millisecondsOffset)</a></li>
    <li><a href="#M2TWEOPSounds.getEOPSoundOffset">M2TWEOPSounds.getEOPSoundOffset (soundID)</a></li>
    <li><a href="#M2TWEOPSounds.pauseEOPSound">M2TWEOPSounds.pauseEOPSound (soundID)</a></li>
    <li><a href="#M2TWEOPSounds.stopEOPSound">M2TWEOPSounds.stopEOPSound (soundID)</a></li>
</details>


</ul>
</div>

<div id="content">
    <div class="welcomeDiv">
        <h2 class="bannerText"></h2>

        <h2 class="bannerText">Medieval 2: Total War - Engine Overhaul Project Lua Plugin Documentation</h2>
        <h3 class="welcomeMessage">Welcome to the EOP Lua Plugin Documentation!</h3>
        <br>
        <h3 class="disclaimerMessage">Please note that many of the examples require additional checks and not all functions are fully documented. If you need additional help, we welcome you to join the Discord!</h3>
        <p class="lastUpdatedMessage">Last updated: 2022-12-19 17:24:23</p>
        <a target="_blank" href="https://discord.gg/Epqjm8u2WK">
            <img class="discordImage" src="https://img.shields.io/discord/713369537948549191?color=282828&label=DISCORD&style=for-the-badge"/>
        </a>
        <br>
    <div class="quickLinks">
        <h2>Quick Links</h2>

       <ul>
        <li><a href="../../articles.html">M2TWEOP Tutorials</li>
    <ul>
        <li><a href="https://www.youtube.com/watch?v=hUvbcz8i7Wk">Scripting Basics (Video Tutorial)</li>
        <li><a href="../../_static/Introduction_to_ImGui_v3.pdf">Introduction to ImGUI</li>
        <li><a href="../../_static/LuaLib/extra/readme_imgui.md.html">EOP's ImGUI Bindings</li>
    <ul>
    </ul>
</div>

<p class="moduleSummary">

</p>
<p class="moduleDescription">

</p>
</div>


<h2><a href="#M2TWEOP">M2TWEOP </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP">M2TWEOP</a></td>
	<td class="summary">Basic M2TWEOP table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.getModPath">M2TWEOP.getModPath ()</a></td>
	<td class="summary">Function to return the path to the mod folder, starts from the drive not the game folder.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.getPluginPath">M2TWEOP.getPluginPath ()</a></td>
	<td class="summary">Function to return the path to the plugin (location of your LUA files).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.loadTexture">M2TWEOP.loadTexture (path)</a></td>
	<td class="summary">Load d3d texture</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.unloadTexture">M2TWEOP.unloadTexture (id)</a></td>
	<td class="summary">Unload d3d texture</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.setAncillariesLimit">M2TWEOP.setAncillariesLimit (newLimit)</a></td>
	<td class="summary">Sets the limit of ancillaries per character on the stratmap.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.unlockGameConsoleCommands">M2TWEOP.unlockGameConsoleCommands ()</a></td>
	<td class="summary">Unlocks all console commands, also allows the use of the 'control' command to change factions in singleplayer campaigns.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.setMaxBgSize">M2TWEOP.setMaxBgSize (newSize)</a></td>
	<td class="summary">Sets the maximum amount of soldiers a general's bodyguard unit can replenish to.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.setEDUUnitsSize">M2TWEOP.setEDUUnitsSize (minSize, maxSize)</a></td>
	<td class="summary">Sets the new maximum soldier count.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.setBuildingChainLimit">M2TWEOP.setBuildingChainLimit (limit)</a></td>
	<td class="summary">Sets the new maximum amount of building levels within a chain.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.setConversionLvlFromCastle">M2TWEOP.setConversionLvlFromCastle (castleLvl, convertToLvl)</a></td>
	<td class="summary">Sets which level of castle converts to which level of city.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.setConversionLvlFromCity">M2TWEOP.setConversionLvlFromCity (cityLvl, convertToLvl)</a></td>
	<td class="summary">Sets which level of city converts to which level of castle.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.setGuildCooldown">M2TWEOP.setGuildCooldown (turns)</a></td>
	<td class="summary">Sets the minimum number of turns until the next guild offer after a rejection by the player.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.toggleUnitsBMapHighlight">M2TWEOP.toggleUnitsBMapHighlight ()</a></td>
	<td class="summary">Toggle the highlighting of units on the tactical map (Currently broken!).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.setReligionsLimit">M2TWEOP.setReligionsLimit (newLimit)</a></td>
	<td class="summary">Set the maximum number of religions in the mod (per descr_religions.txt)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.isTileFree">M2TWEOP.isTileFree (X, Y)</a></td>
	<td class="summary">Checks if a tile is free.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.getTileRegionID">M2TWEOP.getTileRegionID (x, y)</a></td>
	<td class="summary">Get the RegionID of a tile.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOP.getRegionOwner">M2TWEOP.getRegionOwner (regionID)</a></td>
	<td class="summary">Get the owner of a region by RegionID.</td>
	</tr>
</table>
<h2><a href="#gameSTDUITable">gameSTDUITable </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#gameSTDUI">gameSTDUI</a></td>
	<td class="summary">Basic gameSTDUI table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#gameSTDUI.getUiElement">gameSTDUI.getUiElement (elementName)</a></td>
	<td class="summary">Get a game UI element, element must be opened.</td>
	</tr>
</table>
<h2><a href="#uiElementStruct">uiElementStruct </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#uiElementStruct">uiElementStruct</a></td>
	<td class="summary">Basic uiElementStruct table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#gameSTDUI.getSubElement">gameSTDUI.getSubElement (index)</a></td>
	<td class="summary">Get a subelement of an UI element using the index.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#uiElementStruct:execute">uiElementStruct:execute ()</a></td>
	<td class="summary">execute standard game UI element, use only for buttons</td>
	</tr>
</table>
<h2><a href="#Strat_Map_Objects">Strat Map Objects </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#stratmap.objects">stratmap.objects</a></td>
	<td class="summary">Basic stratmap.objects table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#objects.addModelToGame">objects.addModelToGame (modelPath, modelId)</a></td>
	<td class="summary">Add new cas stratmodel to game</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#objects.setModel">objects.setModel (xCoord, yCoord, modelId, modelId2)</a></td>
	<td class="summary">Set the strategy model for object at specified coordinates, works only for supported object types</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#objects.replaceTile">objects.replaceTile (label, xCoord, yCoord, filename, weather, dayTime)</a></td>
	<td class="summary">Replace custom tile.</td>
	</tr>
</table>
<h2><a href="#Camera">Camera </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#stratmap.camera">stratmap.camera</a></td>
	<td class="summary">Basic stratmap.camera table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#camera.move">camera.move (xCoord, yCoord)</a></td>
	<td class="summary">Slow move camera to a tile</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#camera.jump">camera.jump (xCoord, yCoord)</a></td>
	<td class="summary">Fast move camera to a tile</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#camera.zoom">camera.zoom (distance)</a></td>
	<td class="summary">Set zoom of stratcamera</td>
	</tr>
</table>
<h2><a href="#Game">Game </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#stratmap.game">stratmap.game</a></td>
	<td class="summary">Basic stratmap.game table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#game.callConsole">game.callConsole ()</a></td>
	<td class="summary">Call m2tw console command</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#game.getFactionsCount">game.getFactionsCount ()</a></td>
	<td class="summary">Get factions number</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#game.getFaction">game.getFaction (index)</a></td>
	<td class="summary">Get faction with index</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#game.getGuild">game.getGuild (index)</a></td>
	<td class="summary">Get guild with index</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#game.createCharacterByString">game.createCharacterByString (type, faction, age, name, name2, subFaction, portrait_custom, xCoord, yCoord)</a></td>
	<td class="summary">Create character at coords</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#game.createArmy">game.createArmy (ourGeneral)</a></td>
	<td class="summary">Create army for character</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#game.createArmyInSettlement">game.createArmyInSettlement (settlement)</a></td>
	<td class="summary">Create army in settlement (don't need character)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#game.getScriptCounter">game.getScriptCounter (counterName)</a></td>
	<td class="summary">Get script counter value, works for counter and event_counter</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#game.setScriptCounter">game.setScriptCounter (counterName, value)</a></td>
	<td class="summary">Set event_counter value, does not work for counter, only event_counter</td>
	</tr>
</table>
<h2><a href="#Stratmap">Stratmap </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#stratmap">stratmap</a></td>
	<td class="summary">Basic stratmap table</td>
	</tr>
</table>
<h2><a href="#Unit">Unit </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#unit">unit</a></td>
	<td class="summary">Unit table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#unit:kill">unit:kill ()</a></td>
	<td class="summary">Kill this unit</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#unit:setParams">unit:setParams (exp, armor, weapon)</a></td>
	<td class="summary">Set unit basic parameters</td>
	</tr>
</table>
<h2><a href="#EduEntry">EduEntry </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#eduEntry">eduEntry</a></td>
	<td class="summary">Basic eduEntry table</td>
	</tr>
</table>
<h2><a href="#Character">Character </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#character">character</a></td>
	<td class="summary">characters as they exist on the strategy map - dead characters, wives, children, and off-map characters do not have these fields.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#character:getTypeID">character:getTypeID ()</a></td>
	<td class="summary">Get character type.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#character:setTypeID">character:setTypeID (typeId)</a></td>
	<td class="summary">Set character type.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#character:moveToTile">character:moveToTile (xCoord, yCoord)</a></td>
	<td class="summary">Issue regular move command, character must have movePoints</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#character:reposition">character:reposition (xCoord, yCoord)</a></td>
	<td class="summary">Instantly teleport character to coordinates</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#character:kill">character:kill ()</a></td>
	<td class="summary">Delete this character</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#character:setBodyguardUnit">character:setBodyguardUnit (unit)</a></td>
	<td class="summary">Set bodyguard.</td>
	</tr>
</table>
<h2><a href="#NamedCharacter">NamedCharacter </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#namedCharacter">namedCharacter</a></td>
	<td class="summary">All named characters have these fields including dead characters, wives, children, and off-map characters</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#namedCharacter:setAsHeir">namedCharacter:setAsHeir (onlyHeir)</a></td>
	<td class="summary">set character as faction heir</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#namedCharacter:isAlive">namedCharacter:isAlive ()</a></td>
	<td class="summary">check if character is alive, read only, do not set value</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#namedCharacter:getTraits">namedCharacter:getTraits ()</a></td>
	<td class="summary">get pointer to traits container</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#namedCharacter:addTrait">namedCharacter:addTrait (traitName, traitLevel)</a></td>
	<td class="summary">add trait to character</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#namedCharacter:removeTrait">namedCharacter:removeTrait (traitName)</a></td>
	<td class="summary">remove trait from character</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#namedCharacter:getAncillary">namedCharacter:getAncillary (index)</a></td>
	<td class="summary">get pointer to ancillary with number</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#namedCharacter:addAncillary">namedCharacter:addAncillary (ancillaryName)</a></td>
	<td class="summary">add ancillary to character</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#namedCharacter:removeAncillary">namedCharacter:removeAncillary (ancillary)</a></td>
	<td class="summary">remove ancillary</td>
	</tr>
</table>
<h2><a href="#Ancillary">Ancillary </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#ancillary">ancillary</a></td>
	<td class="summary">Basic ancillary table</td>
	</tr>
</table>
<h2><a href="#traitContainer">traitContainer </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#traitContainer">traitContainer</a></td>
	<td class="summary">Basic traits table</td>
	</tr>
</table>
<h2><a href="#FactionStruct">FactionStruct </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#factionStruct">factionStruct</a></td>
	<td class="summary">Basic factionStruct table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#factionStruct:getFactionName">factionStruct:getFactionName ()</a></td>
	<td class="summary">Get faction internal name</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#factionStruct:getNamedCharacter">factionStruct:getNamedCharacter (number)</a></td>
	<td class="summary">Get named character with number</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#factionStruct:getCharacter">factionStruct:getCharacter (number)</a></td>
	<td class="summary">Get character with number</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#factionStruct:getStack">factionStruct:getStack (number)</a></td>
	<td class="summary">Get army with number</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#factionStruct:getSettlement">factionStruct:getSettlement (number)</a></td>
	<td class="summary">Get settlement with number</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#factionStruct:getFort">factionStruct:getFort (number)</a></td>
	<td class="summary">Get fort with number</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#factionStruct:getPort">factionStruct:getPort (number)</a></td>
	<td class="summary">Get port with number</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#factionStruct:getWatchtower">factionStruct:getWatchtower (number)</a></td>
	<td class="summary">Get watchtower with number</td>
	</tr>
</table>
<h2><a href="#FactionStratMapStruct">FactionStratMapStruct </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#factionStratMapStruct">factionStratMapStruct</a></td>
	<td class="summary">Basic factionStratMapStruct table</td>
	</tr>
</table>
<h2><a href="#WatchtowerStruct">WatchtowerStruct </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#watchtowerStruct">watchtowerStruct</a></td>
	<td class="summary">Basic watchtowerStruct table</td>
	</tr>
</table>
<h2><a href="#FortStruct">FortStruct </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#fortStruct">fortStruct</a></td>
	<td class="summary">Basic fortStruct table</td>
	</tr>
</table>
<h2><a href="#PortStruct">PortStruct </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#portStruct">portStruct</a></td>
	<td class="summary">Basic portStruct table</td>
	</tr>
</table>
<h2><a href="#DockStruct">DockStruct </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#dockStruct">dockStruct</a></td>
	<td class="summary">Basic dockStruct table</td>
	</tr>
</table>
<h2><a href="#SettlementStruct">SettlementStruct </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#settlementStruct">settlementStruct</a></td>
	<td class="summary">Basic settlementStruct table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#settlementStruct:changeOwner">settlementStruct:changeOwner (newOwner)</a></td>
	<td class="summary">Change owner faction of settlement.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#settlementStruct:getReligion">settlementStruct:getReligion (religionID)</a></td>
	<td class="summary">Get settlement religion value</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#settlementStruct:setReligion">settlementStruct:setReligion (religionID, religionValue)</a></td>
	<td class="summary">Set settlement religion value, make sure sum of all religion values does not exceed 1.0!</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#settlementStruct:getGuildStanding">settlementStruct:getGuildStanding (guild_id)</a></td>
	<td class="summary">Get guild standing by ID</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#settlementStruct:setGuildStanding">settlementStruct:setGuildStanding (guild_id, standing)</a></td>
	<td class="summary">Set settlement standing points with guild</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#settlementStruct:getBuilding">settlementStruct:getBuilding (number)</a></td>
	<td class="summary">Get building with number</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#settlementStruct:createBuilding">settlementStruct:createBuilding (building_level_id)</a></td>
	<td class="summary">Create building.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#settlementStruct:destroyBuilding">settlementStruct:destroyBuilding (typeName, isReturnMoney)</a></td>
	<td class="summary">Destroy building of type.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#settlementStruct:getResource">settlementStruct:getResource (number)</a></td>
	<td class="summary">Get resource with number</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#settlementStruct:getSiege">settlementStruct:getSiege (siegeIdx)</a></td>
	<td class="summary">Get siege with index</td>
	</tr>
</table>
<h2><a href="#Building">Building </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#building">building</a></td>
	<td class="summary">Basic building table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#building:getType">building:getType ()</a></td>
	<td class="summary">Get name of building type (chain)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#building:getName">building:getName ()</a></td>
	<td class="summary">Get name of building level</td>
	</tr>
</table>
<h2><a href="#BuildingsQueue">BuildingsQueue </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#buildingsQueue">buildingsQueue</a></td>
	<td class="summary">Basic buildingsQueue table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#buildingsQueue:getBuildingInQueue">buildingsQueue:getBuildingInQueue (position)</a></td>
	<td class="summary">Get building in queue by position</td>
	</tr>
</table>
<h2><a href="#BuildingInQueue">BuildingInQueue </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#buildingInQueue">buildingInQueue</a></td>
	<td class="summary">Basic buildingInQueue table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#building:getQueueBuildingType">building:getQueueBuildingType ()</a></td>
	<td class="summary">Get name of building in queue type (chain)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#building:getQueueBuildingName">building:getQueueBuildingName ()</a></td>
	<td class="summary">Get name of building in queue level</td>
	</tr>
</table>
<h2><a href="#Guild">Guild </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#guild">guild</a></td>
	<td class="summary">Basic guild table</td>
	</tr>
</table>
<h2><a href="#TradeResource">TradeResource </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#tradeResource">tradeResource</a></td>
	<td class="summary">Basic tradeResource table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tradeResource:setStratModel">tradeResource:setStratModel (modelId)</a></td>
	<td class="summary">Set resource strat model</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tradeResource:getResourceID">tradeResource:getResourceID ()</a></td>
	<td class="summary">Get resource ID</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tradeResource:getResourceValue">tradeResource:getResourceValue ()</a></td>
	<td class="summary">Get resource trade value</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tradeResource:getResourceHasMine">tradeResource:getResourceHasMine ()</a></td>
	<td class="summary">Get resource mine value</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tradeResource:getResourceImage">tradeResource:getResourceImage ()</a></td>
	<td class="summary">Get resource image (icon) relative path</td>
	</tr>
</table>
<h2><a href="#StackStruct">StackStruct </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#stackStruct">stackStruct</a></td>
	<td class="summary">Basic stackStruct table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#stackStruct:getUnit">stackStruct:getUnit (number)</a></td>
	<td class="summary">Get unit with number</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#stackStruct:getCharacter">stackStruct:getCharacter (number)</a></td>
	<td class="summary">Get character(agent) with number</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#stackStruct:findInSettlement">stackStruct:findInSettlement ()</a></td>
	<td class="summary">Find the settlement in which the army is located</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#stackStruct:findInFort">stackStruct:findInFort ()</a></td>
	<td class="summary">Find the fort in which the army is located</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#stackStruct:createEOPUnit">stackStruct:createEOPUnit (index, exp, armor, weapon)</a></td>
	<td class="summary">Create unit in army by type from M2TWEOP units DB(M2TWEOPDU, no have 500 types limit).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#stackStruct:createUnit">stackStruct:createUnit (type, exp, armor, weapon)</a></td>
	<td class="summary">Create unit in army by type from EDB.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#stackStruct:createUnitByIDX">stackStruct:createUnitByIDX (index, exp, armor, weapon)</a></td>
	<td class="summary">Create unit in army by index from EDB.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#stackStruct:siegeSettlement">stackStruct:siegeSettlement (settlement)</a></td>
	<td class="summary">Siege settlement, or attack it if in siege.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#stackStruct:attackArmy">stackStruct:attackArmy (defender)</a></td>
	<td class="summary">Attack another army.</td>
	</tr>
</table>
<h2><a href="#siegeStruct">siegeStruct </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#siegeStruct">siegeStruct</a></td>
	<td class="summary">Basic siegeStruct table</td>
	</tr>
</table>
<h2><a href="#EOP_Events">EOP Events </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#EventsFunctionsList">EventsFunctionsList</a></td>
	<td class="summary">Events functions list.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#draw">draw (pDevice)</a></td>
	<td class="summary">Called every time an image is rendered for display</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onNewGameStart">onNewGameStart ()</a></td>
	<td class="summary">Called when a new campaign is started from the menu</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onReadGameDbsAtStart">onReadGameDbsAtStart ()</a></td>
	<td class="summary">Called after the game loads various db`s (edu, etc) at startup.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onClickAtTile">onClickAtTile (x, y)</a></td>
	<td class="summary">Called on clicking the stratmap, use ONLY in the same way as the usage example!!</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onCampaignMapLoaded">onCampaignMapLoaded ()</a></td>
	<td class="summary">Called after loading the campaign map</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onPluginLoad">onPluginLoad ()</a></td>
	<td class="summary">Called on plugin load (at game start)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onCreateSaveFile">onCreateSaveFile ()</a></td>
	<td class="summary">Called on creating save file</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onLoadSaveFile">onLoadSaveFile ()</a></td>
	<td class="summary">Called on loading save file</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onChangeTurnNum">onChangeTurnNum (turnNumber)</a></td>
	<td class="summary">Called at start of new turn</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onSelectWorldpkgdesc">onSelectWorldpkgdesc (selectedRecordName, selectedRecordGroup)</a></td>
	<td class="summary">Called on select worldpkgdesc for battlemap.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onfortificationlevelS">onfortificationlevelS (siegedSettlement)</a></td>
	<td class="summary">Called on select fortificationlevel in siege of settlement</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onEndSiege">onEndSiege (xCoord, yCoord)</a></td>
	<td class="summary">Called on the completion of the siege (in any way, with any outcome).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onStartSiege">onStartSiege (xCoord, yCoord)</a></td>
	<td class="summary">Called on the starting of the siege (in any way, with any outcome).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onCharacterSelected">onCharacterSelected (selectedChar)</a></td>
	<td class="summary">a character has been selected by any means (including through the UI)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onPreFactionTurnStart">onPreFactionTurnStart (faction)</a></td>
	<td class="summary">Called before faction turn start</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onFactionTurnStart">onFactionTurnStart (faction)</a></td>
	<td class="summary">Called at faction turn start</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onFactionTurnEnd">onFactionTurnEnd (faction)</a></td>
	<td class="summary">Called at faction turn end</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onFactionNewCapital">onFactionNewCapital (faction)</a></td>
	<td class="summary">Called after faction has new capital</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onFactionWarDeclared">onFactionWarDeclared (faction, targetFaction)</a></td>
	<td class="summary">Called after declaring war</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onFactionAllianceDeclared">onFactionAllianceDeclared (faction, targetFaction)</a></td>
	<td class="summary">Called after declaring alliance</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onFactionTradeAgreementMade">onFactionTradeAgreementMade (faction, targetFaction)</a></td>
	<td class="summary">Called after declaring trade agreement</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onFactionBreakAlliance">onFactionBreakAlliance (faction, targetFaction)</a></td>
	<td class="summary">Called after break alliance</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onGiveMoney">onGiveMoney (faction, targetFaction, amount)</a></td>
	<td class="summary">Called after giving money</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onUpdateAttitude">onUpdateAttitude (faction, targetFaction)</a></td>
	<td class="summary">Called after update attitude</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onDemeanour">onDemeanour (faction, targetFaction, amount)</a></td>
	<td class="summary">A demeanour response has occured in diplomacy talks</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onGeneralAssaultsGeneral">onGeneralAssaultsGeneral (attacker, defender)</a></td>
	<td class="summary">A general has attacked another general</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onGeneralAssaultsResidence">onGeneralAssaultsResidence (attacker, settlement, fort)</a></td>
	<td class="summary">An assault has taken place</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onGeneralCaptureSettlement">onGeneralCaptureSettlement (attacker, settlement)</a></td>
	<td class="summary">Settlement captured</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onGeneralCaptureResidence">onGeneralCaptureResidence (attacker)</a></td>
	<td class="summary">A General has captured a residence(fort, watchtower, check it yourself)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onSiegeEquipmentCompleted">onSiegeEquipmentCompleted (settlement, fort)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onPostBattle">onPostBattle (character)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onMultiTurnMove">onMultiTurnMove (character)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onSettlementSelected">onSettlementSelected (settlement)</a></td>
	<td class="summary">a settlement has been selected by any means (including through the UI)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onSettlementUpgraded">onSettlementUpgraded (settlement)</a></td>
	<td class="summary">settlement level increased</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onSettlementConverted">onSettlementConverted (settlement)</a></td>
	<td class="summary">settlement converted between city and castle</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onCityRiots">onCityRiots (settlement)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onUngarrisonedSettlement">onUngarrisonedSettlement (settlement)</a></td>
	<td class="summary">the last unit has been removed from a settlement, agents do not count</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onUngarrisonedFort">onUngarrisonedFort (fort)</a></td>
	<td class="summary">the last unit has been removed from a fort, agents do not count</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onGiveSettlement">onGiveSettlement (settlement, fac1, fac2)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onOccupySettlement">onOccupySettlement (character, targetFaction)</a></td>
	<td class="summary">general has captured a settlement and the occupy option has been accepted</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onExterminatePopulation">onExterminatePopulation (character, targetFaction)</a></td>
	<td class="summary">general has captured a settlement and the exterminate option has been accepted</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onSackSettlement">onSackSettlement (character, targetFaction)</a></td>
	<td class="summary">general has captured a settlement and the sack option has been accepted</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onAddedToBuildingQueue">onAddedToBuildingQueue (settlement, buildNme)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onBuildingDestroyed">onBuildingDestroyed (settlement, buildNme)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onBuildingCompleted">onBuildingCompleted (fac, settlement)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onEventCounter">onEventCounter (counter)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onFactionExcommunicated">onFactionExcommunicated (fac)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onDisaster">onDisaster (eventType)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onHordeFormed">onHordeFormed (fac)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onAddedToTrainingQueue">onAddedToTrainingQueue (sett, unitName)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onUnitDisbanded">onUnitDisbanded (fac, unit)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onUnitTrained">onUnitTrained (fac, sett, unit)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onAgentCreated">onAgentCreated (character, agentType, sett)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onObjSeen">onObjSeen (fac, targetFac, xCoord, yCoord)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onTileSeen">onTileSeen (fac, xCoord, yCoord)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onGameReloaded">onGameReloaded (something)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onTransgression">onTransgression (fac, description, targetFac)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onPopeAcceptsCrusadeTarget">onPopeAcceptsCrusadeTarget (crusade, target)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onCrusadeCalled">onCrusadeCalled (crusade, target)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onCrusadeEnds">onCrusadeEnds (crusade, target)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onPopeRejectsCrusadeTarget">onPopeRejectsCrusadeTarget (crusade, target)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onArmyTakesCrusadeTarget">onArmyTakesCrusadeTarget (crusade, target, army)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onUnitsDesertCrusade">onUnitsDesertCrusade (crusade, target, fac)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onPopeElected">onPopeElected (fac, fac2)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onVotedForPope">onVotedForPope (fac)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onAssassinCaughtAttackingPope">onAssassinCaughtAttackingPope (fac)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onInquisitorAppointed">onInquisitorAppointed (fac, sett)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onSettlementPanelOpen">onSettlementPanelOpen (sett)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onFinancesPanelOpen">onFinancesPanelOpen (fac)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onFactionSummaryPanelOpen">onFactionSummaryPanelOpen (fac)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onFamilyTreePanelOpenFunc">onFamilyTreePanelOpenFunc (fac)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onDiplomaticStandingPanelOpen">onDiplomaticStandingPanelOpen (fac)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onDiplomacyPanelOpen">onDiplomacyPanelOpen (fac)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onPreBattlePanelOpen">onPreBattlePanelOpen (fac)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onNavalAutoResolvePanelOpen">onNavalAutoResolvePanelOpen ()</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onCharacterPanelOpen">onCharacterPanelOpen (selectedChar)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onTradePanelOpen">onTradePanelOpen (sett)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onRequestBuildingAdvice">onRequestBuildingAdvice (sett)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onRequestTrainingAdvice">onRequestTrainingAdvice (sett, recommendedUnitEntry)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onMessageOpen">onMessageOpen (fac, msgType)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onIncomingMessage">onIncomingMessage (fac, msgType)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onMessageClosed">onMessageClosed (msgType)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onButtonPressed">onButtonPressed (buttonName)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onScrollClosed">onScrollClosed (scrollName)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onScrollOpened">onScrollOpened (scrollName)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onUIElementVisible">onUIElementVisible (elementName)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onScrollAdviceRequested">onScrollAdviceRequested (scrollName)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onSettlementScrollAdviceRequested">onSettlementScrollAdviceRequested (sett, scrollName)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onPreBattleScrollAdviceRequested">onPreBattleScrollAdviceRequested ()</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onNavalPreBattleScrollAdviceRequested">onNavalPreBattleScrollAdviceRequested ()</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onCollegeOfCardinalsPanelOpen">onCollegeOfCardinalsPanelOpen (college)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onGuildUpgraded">onGuildUpgraded (sett, guildName)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onGuildDestroyed">onGuildDestroyed (sett, guildID)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onBrotherAdopted">onBrotherAdopted (character)</a></td>
	<td class="summary">a character in the family tree has received a brother by adoption</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onBirth">onBirth (child)</a></td>
	<td class="summary">a child has been born</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onCharacterComesOfAge">onCharacterComesOfAge (character)</a></td>
	<td class="summary">a character has come of age</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onCharacterMarries">onCharacterMarries (husband)</a></td>
	<td class="summary">a character has married (someone who isn't a princess)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onCharacterMarriesPrincess">onCharacterMarriesPrincess (husband)</a></td>
	<td class="summary">a character has married a princess agent</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onCharacterBecomesAFather">onCharacterBecomesAFather (father)</a></td>
	<td class="summary">a child has been born</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onNewAdmiralCreated">onNewAdmiralCreated (admiral, sett)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onShortcutTriggered">onShortcutTriggered (shortcut)</a></td>
	<td class="summary">a shortcut has been used</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onBecomesFactionLeader">onBecomesFactionLeader (leader)</a></td>
	<td class="summary">

</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onBecomesFactionHeir">onBecomesFactionHeir (heir)</a></td>
	<td class="summary">

</td>
	</tr>
</table>
<h2><a href="#M2TWEOPDU">M2TWEOPDU </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPDU">M2TWEOPDU</a></td>
	<td class="summary">Basic M2TWEOPDU table.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPDU.addEopEduEntryFromFile">M2TWEOPDU.addEopEduEntryFromFile (filepath, eopEnryIndex)</a></td>
	<td class="summary">Create new M2TWEOPDU entry from type description</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPDU.addEopEduEntryFromEDUID">M2TWEOPDU.addEopEduEntryFromEDUID (baseEnryIndex, eopEnryIndex)</a></td>
	<td class="summary">Create new M2TWEOPDU entry</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPDU.getEopEduEntryByID">M2TWEOPDU.getEopEduEntryByID (eopEnryIndex)</a></td>
	<td class="summary">Get eduEntry of M2TWEOPDU entry.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPDU.getDataEopDu">M2TWEOPDU.getDataEopDu (eopEnryIndex)</a></td>
	<td class="summary">Get data of M2TWEOPDU entry.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPDU.setEntryUnitCardTga">M2TWEOPDU.setEntryUnitCardTga (eopEnryIndex, newCardTga)</a></td>
	<td class="summary">Set unit card for M2TWEOPDU entry.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPDU.setEntryInfoCardTga">M2TWEOPDU.setEntryInfoCardTga (eopEnryIndex, newInfoCardTga)</a></td>
	<td class="summary">Set unit info card for M2TWEOPDU entry.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPDU.setEntrySoldierModel">M2TWEOPDU.setEntrySoldierModel (eopEnryIndex, newSoldierModel)</a></td>
	<td class="summary">Set soldier model for M2TWEOPDU entry.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPDU.setEntryLocalizedName">M2TWEOPDU.setEntryLocalizedName (eopEnryIndex, newLocalizedName)</a></td>
	<td class="summary">Set localized name for M2TWEOPDU entry.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPDU.setEntryLocalizedDescr">M2TWEOPDU.setEntryLocalizedDescr (eopEnryIndex, newLocalizedDescr)</a></td>
	<td class="summary">Set localized description for M2TWEOPDU entry.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPDU.setEntryLocalizedShortDescr">M2TWEOPDU.setEntryLocalizedShortDescr (eopEnryIndex, newLocalizedShortDescr)</a></td>
	<td class="summary">Set localized short description for M2TWEOPDU entry.</td>
	</tr>
</table>
<h2><a href="#Campaign_Enums">Campaign Enums </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#dipRelType">dipRelType</a></td>
	<td class="summary">Enum with a list of types of diplomatic relations.</td>
	</tr>
</table>
<h2><a href="#Campaign">Campaign </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#gameDataAll.campaignStruct">gameDataAll.campaignStruct</a></td>
	<td class="summary">Basic campaign table.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#campaignStruct:checkDipStance">campaignStruct:checkDipStance (checkType, fac1, fac2)</a></td>
	<td class="summary">Check diplomatic relations between factions</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#campaignStruct:setDipStance">campaignStruct:setDipStance (relType, fac1, fac2)</a></td>
	<td class="summary">Set diplomatic relations between factions</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#campaignStruct:GetUnitSize">campaignStruct:GetUnitSize ()</a></td>
	<td class="summary">Get size of unit(i.e.</td>
	</tr>
</table>
<h2><a href="#gameDataAll">gameDataAll </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#gameDataAll">gameDataAll</a></td>
	<td class="summary">Basic gameDataAll table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#gameDataAll.get">gameDataAll.get ()</a></td>
	<td class="summary">Call at start of script, this is a static object and pointer to it doesn't change</td>
	</tr>
</table>
<h2><a href="#battleStruct">battleStruct </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#gameDataAll.battleStruct">gameDataAll.battleStruct</a></td>
	<td class="summary">basic battleStruct table</td>
	</tr>
</table>
<h2><a href="#battleSide">battleSide </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#battleStruct.battleSide">battleStruct.battleSide</a></td>
	<td class="summary">basic battleSide table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#battleSide.getWinConditionString">battleSide.getWinConditionString (condition)</a></td>
	<td class="summary">Get win condition string, for example: destroy_or_rout_enemy</td>
	</tr>
</table>
<h2><a href="#trackedPointerArmy">trackedPointerArmy </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#battleSide.trackedPointerArmy">battleSide.trackedPointerArmy</a></td>
	<td class="summary">basic trackedPointerArmy table</td>
	</tr>
</table>
<h2><a href="#deploymentAreaS">deploymentAreaS </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#trackedPointerArmy.deploymentAreaS">trackedPointerArmy.deploymentAreaS</a></td>
	<td class="summary">basic trackedPointerArmy table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#deploymentAreaS:getCoordPair">deploymentAreaS:getCoordPair ()</a></td>
	<td class="summary">Get pair of coords with number</td>
	</tr>
</table>
<h2><a href="#M2TWEOPFBX">M2TWEOPFBX </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX">M2TWEOPFBX</a></td>
	<td class="summary">Basic M2TWEOPFBX table.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.addFbxModel">M2TWEOPFBX.addFbxModel (modelPath, texturePath, modelID)</a></td>
	<td class="summary">Load new fbx model</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.deleteFbxModel">M2TWEOPFBX.deleteFbxModel (modelID)</a></td>
	<td class="summary">Delete fbx model</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.getFbxModel">M2TWEOPFBX.getFbxModel (modelID)</a></td>
	<td class="summary">Get fbx model</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.addFbxObject">M2TWEOPFBX.addFbxObject (modelID, objectID)</a></td>
	<td class="summary">Create new fbx object with model.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.deleteFbxObject">M2TWEOPFBX.deleteFbxObject (object)</a></td>
	<td class="summary">Delete fbx object</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.getFbxObject">M2TWEOPFBX.getFbxObject (object)</a></td>
	<td class="summary">Get fbx object by id</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.setFbxObjectCoords">M2TWEOPFBX.setFbxObjectCoords (fbx, x, y, z)</a></td>
	<td class="summary">Set fbx object coordinates</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.getFbxObjectCoords">M2TWEOPFBX.getFbxObjectCoords (fbx)</a></td>
	<td class="summary">Get fbx object coordinates</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.setFbxObjectSize">M2TWEOPFBX.setFbxObjectSize (fbx, sizeModifier)</a></td>
	<td class="summary">Set fbx object size modifier</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.getFbxObjectSize">M2TWEOPFBX.getFbxObjectSize (fbx)</a></td>
	<td class="summary">Get fbx object size modifier</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.setFbxObjectDrawState">M2TWEOPFBX.setFbxObjectDrawState (fbx, is)</a></td>
	<td class="summary">Set fbx object draw state</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.getFbxObjectDrawState">M2TWEOPFBX.getFbxObjectDrawState (fbx)</a></td>
	<td class="summary">Get fbx object draw state</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.setFbxObjectAnimState">M2TWEOPFBX.setFbxObjectAnimState (fbx, is)</a></td>
	<td class="summary">Set fbx object animation state</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.getFbxObjectAnimState">M2TWEOPFBX.getFbxObjectAnimState (fbx)</a></td>
	<td class="summary">Get fbx object animation state</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.setFbxObjectDrawType">M2TWEOPFBX.setFbxObjectDrawType (fbx, current)</a></td>
	<td class="summary">Set fbx object draw type.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPFBX.getFbxObjectDrawType">M2TWEOPFBX.getFbxObjectDrawType (fbx)</a></td>
	<td class="summary">Get fbx object draw type.</td>
	</tr>
</table>
<h2><a href="#M2TWEOPSounds">M2TWEOPSounds </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPSounds">M2TWEOPSounds</a></td>
	<td class="summary">Basic M2TWEOPSounds table.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPSounds.createEOPSound">M2TWEOPSounds.createEOPSound (soundPath)</a></td>
	<td class="summary">Create(and load) new sound</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPSounds.deleteEOPSound">M2TWEOPSounds.deleteEOPSound (soundID)</a></td>
	<td class="summary">Delete sound</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPSounds.playEOPSound">M2TWEOPSounds.playEOPSound (soundID)</a></td>
	<td class="summary">Play sound</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPSounds.setEOPSoundOffset">M2TWEOPSounds.setEOPSoundOffset (soundID, millisecondsOffset)</a></td>
	<td class="summary">Set sound playing offset</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPSounds.getEOPSoundOffset">M2TWEOPSounds.getEOPSoundOffset (soundID)</a></td>
	<td class="summary">Get sound playing offset</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPSounds.pauseEOPSound">M2TWEOPSounds.pauseEOPSound (soundID)</a></td>
	<td class="summary">Pause sound</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M2TWEOPSounds.stopEOPSound">M2TWEOPSounds.stopEOPSound (soundID)</a></td>
	<td class="summary">Stop sound playing</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="M2TWEOP"></a>M2TWEOP </h2>

    <dl class="function">
    <dt>
    <a name = "M2TWEOP"></a>
    <strong>M2TWEOP</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic M2TWEOP table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">getModPath</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.getModPath">getModPath</a></span>



        </li>
        <li><span class="parameter">getPluginPath</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.getPluginPath">getPluginPath</a></span>



        </li>
        <li><span class="parameter">loadTexture</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.loadTexture">loadTexture</a></span>



        </li>
        <li><span class="parameter">unloadTexture</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.unloadTexture">unloadTexture</a></span>



        </li>
        <li><span class="parameter">setAncillariesLimit</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.setAncillariesLimit">setAncillariesLimit</a></span>



        </li>
        <li><span class="parameter">unlockGameConsoleCommands</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.unlockGameConsoleCommands">unlockGameConsoleCommands</a></span>



        </li>
        <li><span class="parameter">setMaxBgSize</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.setMaxBgSize">setMaxBgSize</a></span>



        </li>
        <li><span class="parameter">toggleUnitsBMapHighlight</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.toggleUnitsBMapHighlight">toggleUnitsBMapHighlight</a></span>



        </li>
        <li><span class="parameter">setReligionsLimit</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.setReligionsLimit">setReligionsLimit</a></span>



        </li>
        <li><span class="parameter">isTileFree</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.isTileFree">isTileFree</a></span>



        </li>
        <li><span class="parameter">getTileRegionID</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.getTileRegionID">getTileRegionID</a></span>



        </li>
        <li><span class="parameter">getRegionOwner</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.getRegionOwner">getRegionOwner</a></span>



        </li>
        <li><span class="parameter">setEDUUnitsSize</span>
            <span class="types"><a class="type" href="index.html#M2TWEOP.setEDUUnitsSize">setEDUUnitsSize</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "M2TWEOP.getModPath"></a>
    <strong>M2TWEOP.getModPath ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Function to return the path to the mod folder, starts from the drive not the game folder.
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        mod path
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">mPath=M2TWEOP.getModPath();
<span class="global">print</span>(mPath);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.getPluginPath"></a>
    <strong>M2TWEOP.getPluginPath ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Function to return the path to the plugin (location of your LUA files).
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        plugin path
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">plPath=M2TWEOP.getPluginPath();
<span class="global">print</span>(plPath);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.loadTexture"></a>
    <strong>M2TWEOP.loadTexture (path)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Load d3d texture
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">path</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         full path to texture
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">int</span></span>
        x size of the image</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        y size of the image</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        id of the image</li>
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> testImage={x=<span class="number">0</span>,y=<span class="number">0</span>,img=<span class="keyword">nil</span>};
testImage.x, testImage.y, testImage.img=M2TWEOP.loadTexture(M2TWEOP.getModPath()..<span class="string">"/youneuoy_textures/test.dds"</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.unloadTexture"></a>
    <strong>M2TWEOP.unloadTexture (id)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Unload d3d texture
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">id</span>
            <span class="types"><span class="type">int</span></span>
         of the image
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> testImage={x=<span class="number">0</span>,y=<span class="number">0</span>,img=<span class="keyword">nil</span>};
testImage.x, testImage.y, testImage.img=M2TWEOP.loadTexture(M2TWEOP.getModPath()..<span class="string">"/youneuoy_textures/test.dds"</span>);
M2TWEOP.unloadTexture(testImage.img);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.setAncillariesLimit"></a>
    <strong>M2TWEOP.setAncillariesLimit (newLimit)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Sets the limit of ancillaries per character on the stratmap.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">newLimit</span>
            <span class="types"><span class="type">int</span></span>
         default: 8, maximum: 127
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOP.setAncillariesLimit(<span class="number">15</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.unlockGameConsoleCommands"></a>
    <strong>M2TWEOP.unlockGameConsoleCommands ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Unlocks all console commands, also allows the use of the 'control' command to change factions in singleplayer campaigns.
    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOP.unlockGameConsoleCommands();</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.setMaxBgSize"></a>
    <strong>M2TWEOP.setMaxBgSize (newSize)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Sets the maximum amount of soldiers a general's bodyguard unit can replenish to.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">newSize</span>
            <span class="types"><span class="type">int</span></span>
         default: 77, maximum: 255 (Huge unit size).
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOP.setMaxBgSize(<span class="number">222</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.setEDUUnitsSize"></a>
    <strong>M2TWEOP.setEDUUnitsSize (minSize, maxSize)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Sets the new maximum soldier count.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">minSize</span>
            <span class="types"><span class="type">int</span></span>
         maximum: 300
        </li>
        <li><span class="parameter">maxSize</span>
            <span class="types"><span class="type">int</span></span>
         maximum: 300
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOP.setEDUUnitsSize(<span class="number">1</span>,<span class="number">300</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.setBuildingChainLimit"></a>
    <strong>M2TWEOP.setBuildingChainLimit (limit)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Sets the new maximum amount of building levels within a chain.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">limit</span>
            <span class="types"><span class="type">int</span></span>
         default: 9, maximum: 57
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOP.setBuildingChainLimit(<span class="number">12</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.setConversionLvlFromCastle"></a>
    <strong>M2TWEOP.setConversionLvlFromCastle (castleLvl, convertToLvl)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Sets which level of castle converts to which level of city.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">castleLvl</span>
            <span class="types"><span class="type">int</span></span>
         0-5
        </li>
        <li><span class="parameter">convertToLvl</span>
            <span class="types"><span class="type">int</span></span>
         0-6, 6 means conversion from that level is disabled
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOP.setConversionLvlFromCastle(<span class="number">3</span>,<span class="number">3</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.setConversionLvlFromCity"></a>
    <strong>M2TWEOP.setConversionLvlFromCity (cityLvl, convertToLvl)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Sets which level of city converts to which level of castle.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">cityLvl</span>
            <span class="types"><span class="type">int</span></span>
         0-5
        </li>
        <li><span class="parameter">convertToLvl</span>
            <span class="types"><span class="type">int</span></span>
         0-6, 6 means conversion from that level is disabled
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOP.setConversionLvlFromCity(<span class="number">3</span>,<span class="number">3</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.setGuildCooldown"></a>
    <strong>M2TWEOP.setGuildCooldown (turns)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Sets the minimum number of turns until the next guild offer after a rejection by the player.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">turns</span>
            <span class="types"><span class="type">int</span></span>
         default: 10
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOP.setGuildCooldown(<span class="number">5</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.toggleUnitsBMapHighlight"></a>
    <strong>M2TWEOP.toggleUnitsBMapHighlight ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Toggle the highlighting of units on the tactical map (Currently broken!).
    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOP.toggleUnitsBMapHighlight();</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.setReligionsLimit"></a>
    <strong>M2TWEOP.setReligionsLimit (newLimit)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set the maximum number of religions in the mod (per descr_religions.txt)
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">newLimit</span>
            <span class="types"><span class="type">int</span></span>
         maximum: 127
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOP.setReligionsLimit(<span class="number">25</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.isTileFree"></a>
    <strong>M2TWEOP.isTileFree (X, Y)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Checks if a tile is free.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">X</span>
            <span class="types"><span class="type">int</span></span>
         coordinate of the tile.
        </li>
        <li><span class="parameter">Y</span>
            <span class="types"><span class="type">int</span></span>
         coordinate of the tile.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        boolean isFree
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOP.isTileFree(<span class="number">55</span>,<span class="number">25</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.getTileRegionID"></a>
    <strong>M2TWEOP.getTileRegionID (x, y)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get the RegionID of a tile.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">y</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        regionID
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> regionID=M2TWEOP.getTileRegionID(<span class="number">55</span>,<span class="number">25</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOP.getRegionOwner"></a>
    <strong>M2TWEOP.getRegionOwner (regionID)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get the owner of a region by RegionID.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">regionID</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>
        owner
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> regionID=M2TWEOP.getTileRegionID(<span class="number">55</span>,<span class="number">25</span>);
<span class="keyword">local</span> ownerFac=M2TWEOP.getRegionOwner(regionID);</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="gameSTDUITable"></a>gameSTDUITable </h2>

    <dl class="function">
    <dt>
    <a name = "gameSTDUI"></a>
    <strong>gameSTDUI</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic gameSTDUI table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">getUiElement</span>
            <span class="types"><a class="type" href="index.html#gameSTDUI.getUiElement">getUiElement</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "gameSTDUI.getUiElement"></a>
    <strong>gameSTDUI.getUiElement (elementName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get a game UI element, element must be opened.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">elementName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#uiElementStruct">uiElementStruct</a></span>
        element
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> analyzeScroll(scrollName)
	<span class="keyword">local</span> scroll, uiList = gameSTDUI.getUiElement(scrollName), <span class="string">"UI elements of scroll: "</span>..scrollName
	<span class="keyword">if</span> scroll ~= <span class="keyword">nil</span> <span class="keyword">then</span>
		<span class="keyword">for</span> i = <span class="number">0</span>, scroll.subElementsNum - <span class="number">1</span>, <span class="number">1</span> <span class="keyword">do</span>
			uiList = uiList..<span class="string">"\n\t"</span>..i..<span class="string">" "</span>..scroll:getSubElement(i).elementName
		<span class="keyword">end</span>
		<span class="global">print</span>(uiList)
	<span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="uiElementStruct"></a>uiElementStruct </h2>

    <dl class="function">
    <dt>
    <a name = "uiElementStruct"></a>
    <strong>uiElementStruct</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic uiElementStruct table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">elementName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">xSize</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">ySize</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">xPos</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yPos</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">subElementsNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getSubElement</span>
            <span class="types"><a class="type" href="index.html#gameSTDUI.getSubElement">getSubElement</a></span>



        </li>
        <li><span class="parameter">execute</span>
            <span class="types"><a class="type" href="index.html#uiElementStruct:execute">execute</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "gameSTDUI.getSubElement"></a>
    <strong>gameSTDUI.getSubElement (index)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get a subelement of an UI element using the index.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">index</span>
            <span class="types"><span class="type">int</span></span>
         Starts from 0.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#uiElementStruct">uiElementStruct</a></span>
        subelement
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> financeScroll = gameSTDUI.getUiElement(<span class="string">"finance_scroll"</span>);
<span class="keyword">local</span> subElement1 = financeScroll:getSubElement(<span class="number">5</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "uiElementStruct:execute"></a>
    <strong>uiElementStruct:execute ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    execute standard game UI element, use only for buttons
    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> financeScroll = gameSTDUI.getUiElement(<span class="string">"finance_scroll"</span>);
<span class="comment">--at index 5 we have faction_listviews_button
</span><span class="keyword">local</span> subElement1 = financeScroll:getSubElement(<span class="number">5</span>);
subElement1:execute();</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Strat_Map_Objects"></a>Strat Map Objects </h2>

    <dl class="function">
    <dt>
    <a name = "stratmap.objects"></a>
    <strong>stratmap.objects</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic stratmap.objects table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">addModelToGame</span>
            <span class="types"><a class="type" href="index.html#objects.addModelToGame">addModelToGame</a></span>



        </li>
        <li><span class="parameter">setModel</span>
            <span class="types"><a class="type" href="index.html#objects.setModel">setModel</a></span>



        </li>
        <li><span class="parameter">replaceTile</span>
            <span class="types"><a class="type" href="index.html#objects.replaceTile">replaceTile</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "objects.addModelToGame"></a>
    <strong>objects.addModelToGame (modelPath, modelId)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Add new cas stratmodel to game
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">modelPath</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         relative(to modfolder) path
        </li>
        <li><span class="parameter">modelId</span>
            <span class="types"><span class="type">int</span></span>
         model id
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">stratmap.objects.addModelToGame(<span class="string">"data/models_strat/residences/invisible.CAS"</span>,<span class="number">1</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "objects.setModel"></a>
    <strong>objects.setModel (xCoord, yCoord, modelId, modelId2)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set the strategy model for object at specified coordinates, works only for supported object types
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">modelId</span>
            <span class="types"><span class="type">int</span></span>
         used for: watchtower, resource, settlement, fort, port
        </li>
        <li><span class="parameter">modelId2</span>
            <span class="types"><span class="type">int</span></span>
         used for: fort wall (use fort coords), dock (use port coords)
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">stratmap.objects.addModelToGame(<span class="string">"data/models_strat/residences/invisible.CAS"</span>,<span class="number">1</span>);
stratmap.objects.setModel(<span class="number">288</span>,<span class="number">257</span>,<span class="number">1</span>,<span class="number">1</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "objects.replaceTile"></a>
    <strong>objects.replaceTile (label, xCoord, yCoord, filename, weather, dayTime)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Replace custom tile.  Change custom battlefield for coordinates.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">label</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">weather</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">dayTime</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">stratmap.objects.replaceTile(<span class="string">"Helms-Deep_Province"</span>,<span class="number">167</span>,<span class="number">158</span>,<span class="string">"hornburg_amb.wfc"</span>,<span class="string">"clear"</span>,<span class="string">"midday"</span>);</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Camera"></a>Camera </h2>

    <dl class="function">
    <dt>
    <a name = "stratmap.camera"></a>
    <strong>stratmap.camera</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic stratmap.camera table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">move</span>
            <span class="types"><a class="type" href="index.html#camera.move">move</a></span>



        </li>
        <li><span class="parameter">jump</span>
            <span class="types"><a class="type" href="index.html#camera.jump">jump</a></span>



        </li>
        <li><span class="parameter">zoom</span>
            <span class="types"><a class="type" href="index.html#camera.zoom">zoom</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "camera.move"></a>
    <strong>camera.move (xCoord, yCoord)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Slow move camera to a tile
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">stratmap.camera.move(<span class="number">1</span>,<span class="number">2</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "camera.jump"></a>
    <strong>camera.jump (xCoord, yCoord)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Fast move camera to a tile
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">stratmap.camera.jump(<span class="number">1</span>,<span class="number">2</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "camera.zoom"></a>
    <strong>camera.zoom (distance)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set zoom of stratcamera
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">distance</span>
            <span class="types"><span class="type">float</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">stratmap.camera.zoom(<span class="number">0.12</span>);</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Game"></a>Game </h2>

    <dl class="function">
    <dt>
    <a name = "stratmap.game"></a>
    <strong>stratmap.game</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic stratmap.game table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">getFactionsCount</span>
            <span class="types"><a class="type" href="index.html#game.getFactionsCount">getFactionsCount</a></span>



        </li>
        <li><span class="parameter">getFaction</span>
            <span class="types"><a class="type" href="index.html#game.getFaction">getFaction</a></span>



        </li>
        <li><span class="parameter">createCharacterByString</span>
            <span class="types"><a class="type" href="index.html#game.createCharacterByString">createCharacterByString</a></span>



        </li>
        <li><span class="parameter">createArmy</span>
            <span class="types"><a class="type" href="index.html#game.createArmy">createArmy</a></span>



        </li>
        <li><span class="parameter">createArmyInSettlement</span>
            <span class="types"><a class="type" href="index.html#game.createArmyInSettlement">createArmyInSettlement</a></span>



        </li>
        <li><span class="parameter">getScriptCounter</span>
            <span class="types"><a class="type" href="index.html#game.getScriptCounter">getScriptCounter</a></span>



        </li>
        <li><span class="parameter">setScriptCounter</span>
            <span class="types"><a class="type" href="index.html#game.setScriptCounter">setScriptCounter</a></span>



        </li>
        <li><span class="parameter">callConsole</span>
            <span class="types"><a class="type" href="index.html#game.callConsole">callConsole</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "game.callConsole"></a>
    <strong>game.callConsole ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Call m2tw console command
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        error note: string can be empty but not nil
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onCharacterSelected(selectedChar)
	<span class="keyword">local</span> err = stratmap.game.callConsole(<span class="string">"add_money"</span>, <span class="string">"2321"</span>)
	<span class="global">print</span>(err)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "game.getFactionsCount"></a>
    <strong>game.getFactionsCount ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get factions number
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        facNumber number of factions
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> facNum=stratmap.game.getFactionsCount();</pre>
    </ul>

</dd>
    <dt>
    <a name = "game.getFaction"></a>
    <strong>game.getFaction (index)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get faction with index
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">index</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>
        faction
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">faction=stratmap.game.getFaction(<span class="number">2</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "game.getGuild"></a>
    <strong>game.getGuild (index)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get guild with index
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">index</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#guild">guild</a></span>
        guild
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourGuild=stratmap.game.getGuild(<span class="number">1</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "game.createCharacterByString"></a>
    <strong>game.createCharacterByString (type, faction, age, name, name2, subFaction, portrait_custom, xCoord, yCoord)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Create character at coords
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">type</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">age</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">name2</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">subFaction</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">portrait_custom</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         cannot be nil
        </li>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#character">character</a></span>
        newCharacter
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">newCharacter=stratmap.game.createCharacterByString(<span class="string">"named character"</span>,stratmap.game.getFaction(<span class="number">0</span>),<span class="number">18</span>,<span class="string">"Name1"</span>,<span class="string">"Name2"</span>,<span class="number">31</span>,<span class="string">"custom_portrait_name"</span>,character.character.xCoord+<span class="number">5</span>,character.character.yCoord);</pre>
    </ul>

</dd>
    <dt>
    <a name = "game.createArmy"></a>
    <strong>game.createArmy (ourGeneral)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Create army for character
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ourGeneral</span>
            <span class="types"><a class="type" href="index.html#character">character</a></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>
        army
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">army=stratmap.game.createArmy(gen);</pre>
    </ul>

</dd>
    <dt>
    <a name = "game.createArmyInSettlement"></a>
    <strong>game.createArmyInSettlement (settlement)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Create army in settlement (don't need character)
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>
        army
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">army=stratmap.game.createArmyInSettlement(sett);</pre>
    </ul>

</dd>
    <dt>
    <a name = "game.getScriptCounter"></a>
    <strong>game.getScriptCounter (counterName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get script counter value, works for counter and event_counter
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">counterName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">bool</span></span>
        isExist</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        counterValue</li>
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">isExist, counterValue = stratmap.game.getScriptCounter(<span class="string">"SomeCounter"</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "game.setScriptCounter"></a>
    <strong>game.setScriptCounter (counterName, value)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set event_counter value, does not work for counter, only event_counter
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">counterName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">value</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">stratmap.game.setScriptCounter(<span class="string">"SomeCounter"</span>, <span class="number">25</span>)</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Stratmap"></a>Stratmap </h2>

    <dl class="function">
    <dt>
    <a name = "stratmap"></a>
    <strong>stratmap</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic stratmap table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">objects</span>
            <span class="types"><a class="type" href="index.html#stratmap.objects">objects</a></span>



        </li>
        <li><span class="parameter">camera</span>
            <span class="types"><a class="type" href="index.html#stratmap.camera">camera</a></span>



        </li>
        <li><span class="parameter">game</span>
            <span class="types"><a class="type" href="index.html#stratmap.game">game</a></span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Unit"></a>Unit </h2>

    <dl class="function">
    <dt>
    <a name = "unit"></a>
    <strong>unit</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Unit table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">eduEntry</span>
            <span class="types"><a class="type" href="index.html#eduEntry">eduEntry</a></span>



        </li>
        <li><span class="parameter">movePoints</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">soldierCountStratMap</span>
            <span class="types"><span class="type">int</span></span>
         soldiers count. You can change it on stratmap and soldiers updated. Use <a href="index.html#unit:setParams">setParams</a> if you need change several parameters at once.
        </li>
        <li><span class="parameter">exp</span>
            <span class="types"><span class="type">int</span></span>
         soldiers expierence. You can change it on stratmap and soldiers updated. Use <a href="index.html#unit:setParams">setParams</a> if you need change several parameters at once.
        </li>
        <li><span class="parameter">armourLVL</span>
            <span class="types"><span class="type">int</span></span>
         soldiers armour. You can change it on stratmap and soldiers updated. Use <a href="index.html#unit:setParams">setParams</a> if you need change several parameters at once.
        </li>
        <li><span class="parameter">weaponLVL</span>
            <span class="types"><span class="type">int</span></span>
         soldiers weapon. You can change it on stratmap and soldiers updated. Use <a href="index.html#unit:setParams">setParams</a> if you need change several parameters at once.
        </li>
        <li><span class="parameter">soldierCountStratMapMax</span>
            <span class="types"><span class="type">int</span></span>
         better read only
        </li>
        <li><span class="parameter">soldierCountBattleMap</span>
            <span class="types"><span class="type">int</span></span>
         better read only
        </li>
        <li><span class="parameter">character</span>
            <span class="types"><a class="type" href="index.html#character">character</a></span>



        </li>
        <li><span class="parameter">army</span>
            <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>



        </li>
        <li><span class="parameter">kill</span>
            <span class="types"><a class="type" href="index.html#character:kill">kill</a></span>



        </li>
        <li><span class="parameter">setParams</span>
            <span class="types"><a class="type" href="index.html#unit:setParams">setParams</a></span>
         change soldierCountStratMap, exp, armourLVL, weaponLVL at one time.
        </li>
        <li><span class="parameter">alias</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "unit:kill"></a>
    <strong>unit:kill ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Kill this unit
    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example">unit:kill();</pre>
    </ul>

</dd>
    <dt>
    <a name = "unit:setParams"></a>
    <strong>unit:setParams (exp, armor, weapon)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set unit basic parameters
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">exp</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">armor</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">weapon</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">unit:setParams(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="EduEntry"></a>EduEntry </h2>

    <dl class="function">
    <dt>
    <a name = "eduEntry"></a>
    <strong>eduEntry</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic eduEntry table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">Type</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         do not set!
        </li>
        <li><span class="parameter">Soldier</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         no not set!
        </li>
        <li><span class="parameter">Index</span>
            <span class="types"><span class="type">int</span></span>
         do not set!
        </li>
        <li><span class="parameter">UnitCreatedCounter</span>
            <span class="types"><span class="type">int</span></span>
         do not set!
        </li>
        <li><span class="parameter">SoldierCount</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">Mass</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">Width</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">Height</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">haveAttributeLegio</span>
            <span class="types"><span class="type">bool</span></span>



        </li>
        <li><span class="parameter">MoveSpeedMod</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">UnitSpacingFrontToBackClose</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">UnitSpacingSideToSideClose</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">UnitSpacingFrontToBackLoose</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">UnitSpacingSideToSideLoose</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">StatHealth</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatHealthAnimal</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatHeat</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatGround1</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatGround2</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatGround3</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatGround4</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatCost1</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatCost2</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatCost3</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatCost4</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatCost5</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatCost6</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatCost7</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">StatCost8</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Character"></a>Character </h2>

    <dl class="function">
    <dt>
    <a name = "character"></a>
    <strong>character</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    characters as they exist on the strategy map - dead characters, wives, children, and off-map characters do not have these fields.
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">namedCharacter</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
        <li><span class="parameter">bodyguards</span>
            <span class="types"><a class="type" href="index.html#unit">unit</a></span>



        </li>
        <li><span class="parameter">armyLeaded</span>
            <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>



        </li>
        <li><span class="parameter">armyNotLeaded</span>
            <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>
         in the stack but not leading it
        </li>
        <li><span class="parameter">movePointsMax</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">movePointsModifier</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">movePoints</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">ability</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         see descr<em>hero</em>abilities.xml
        </li>
        <li><span class="parameter">getTypeID</span>
            <span class="types"><a class="type" href="index.html#character:getTypeID">getTypeID</a></span>



        </li>
        <li><span class="parameter">setTypeID</span>
            <span class="types"><a class="type" href="index.html#character:setTypeID">setTypeID</a></span>



        </li>
        <li><span class="parameter">moveToTile</span>
            <span class="types"><a class="type" href="index.html#character:moveToTile">moveToTile</a></span>



        </li>
        <li><span class="parameter">reposition</span>
            <span class="types"><a class="type" href="index.html#character:reposition">reposition</a></span>



        </li>
        <li><span class="parameter">kill</span>
            <span class="types"><a class="type" href="index.html#character:kill">kill</a></span>



        </li>
        <li><span class="parameter">setBodyguardUnit</span>
            <span class="types"><a class="type" href="index.html#character:setBodyguardUnit">setBodyguardUnit</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "character:getTypeID"></a>
    <strong>character:getTypeID ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">

<p>Get character type. </p>
<pre><code>0-spy
1-assassin
2-diplomat
3-admiral
4-merchant
5-priest
6-general
7-named character
8-princess
9-heretic
10-witch
11-inquisitor
13-pope
</code></pre>

    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        typeId
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ourType=ourCharacter:getTypeID();</pre>
    </ul>

</dd>
    <dt>
    <a name = "character:setTypeID"></a>
    <strong>character:setTypeID (typeId)</strong>
    </dt>
    <dd>
    <div class="functionDescription">

<p>Set character type. </p>
<pre><code>0-spy
1-assassin
2-diplomat
3-admiral
4-merchant
5-priest
6-general
7-named character
8-princess
9-heretic
10-witch
11-inquisitor
13-pope
</code></pre>

    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">typeId</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourCharacter:setTypeID(<span class="number">2</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "character:moveToTile"></a>
    <strong>character:moveToTile (xCoord, yCoord)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Issue regular move command, character must have movePoints
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourCharacter:moveToTile(<span class="number">11</span>,<span class="number">25</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "character:reposition"></a>
    <strong>character:reposition (xCoord, yCoord)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Instantly teleport character to coordinates
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourCharacter:reposition(<span class="number">11</span>,<span class="number">25</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "character:kill"></a>
    <strong>character:kill ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Delete this character
    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourCharacter:kill();</pre>
    </ul>

</dd>
    <dt>
    <a name = "character:setBodyguardUnit"></a>
    <strong>character:setBodyguardUnit (unit)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set bodyguard.  Do this only for characters without it (after creating,for example)
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">unit</span>
            <span class="types"><a class="type" href="index.html#unit">unit</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourCharacter:setBodyguardUnit(unit);</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="NamedCharacter"></a>NamedCharacter </h2>

    <dl class="function">
    <dt>
    <a name = "namedCharacter"></a>
    <strong>namedCharacter</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    All named characters have these fields including dead characters, wives, children, and off-map characters
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">index</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">character</span>
            <span class="types"><a class="type" href="index.html#character">character</a></span>



        </li>
        <li><span class="parameter">shortName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         internal name
        </li>
        <li><span class="parameter">fullName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         internal name including surname
        </li>
        <li><span class="parameter">localizedDisplayName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         display name, resets upon reload save
        </li>
        <li><span class="parameter">label</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">portrait</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         note: wives (who were never princesses) and children do not have anything for this field
        </li>
        <li><span class="parameter">portrait2</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         note: wives (who were never princesses) and children do not have anything for this field
        </li>
        <li><span class="parameter">portrait_custom</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         note: wives (who were never princesses) and children do not have anything for this field
        </li>
        <li><span class="parameter">modelName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         battle model
        </li>
        <li><span class="parameter">status</span>
            <span class="types"><span class="type">int</span></span>
         5-leader,2 - heir, 0 - ordinary character, read only, do not set value
        </li>
        <li><span class="parameter">setAsHeir</span>
            <span class="types"><a class="type" href="index.html#namedCharacter:setAsHeir">setAsHeir</a></span>



        </li>
        <li><span class="parameter">isAlive</span>
            <span class="types"><a class="type" href="index.html#namedCharacter:isAlive">isAlive</a></span>



        </li>
        <li><span class="parameter">isMale</span>
            <span class="types"><span class="type">bool</span></span>



        </li>
        <li><span class="parameter">age</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yearOfBirth</span>
            <span class="types"><span class="type">float</span></span>
         e.g. with 4 turns per year, the yearOfBirth could be 1840.25
        </li>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">subFaction</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">parent</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
        <li><span class="parameter">spouse</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
        <li><span class="parameter">childs</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter[4]</a></span>
         example: ourChar.childs[2].fullName
        </li>
        <li><span class="parameter">getTraits</span>
            <span class="types"><a class="type" href="index.html#namedCharacter:getTraits">getTraits</a></span>



        </li>
        <li><span class="parameter">addTrait</span>
            <span class="types"><a class="type" href="index.html#namedCharacter:addTrait">addTrait</a></span>



        </li>
        <li><span class="parameter">removeTrait</span>
            <span class="types"><a class="type" href="index.html#namedCharacter:removeTrait">removeTrait</a></span>



        </li>
        <li><span class="parameter">ancNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getAncillary</span>
            <span class="types"><a class="type" href="index.html#namedCharacter:getAncillary">getAncillary</a></span>



        </li>
        <li><span class="parameter">addAncillary</span>
            <span class="types"><a class="type" href="index.html#namedCharacter:addAncillary">addAncillary</a></span>



        </li>
        <li><span class="parameter">removeAncillary</span>
            <span class="types"><a class="type" href="index.html#namedCharacter:removeAncillary">removeAncillary</a></span>



        </li>
        <li><span class="parameter">level</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">authority</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">command</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">chivalryAndDread</span>
            <span class="types"><span class="type">int</span></span>
         positive = Chivalry, negative = Dread
        </li>
        <li><span class="parameter">loyalty</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">piety</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">ambush</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">artilleryCommand</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">assassination</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">attack</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">battleSurgery</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">bodyguardSize</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">bodyguardValour</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">boldness</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">bribeResistance</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">bribery</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">cavalryCommand</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">charm</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">construction</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">defence</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">disposition</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">electability</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">eligibility</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">farming</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">fertility</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">finance</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">footInTheDoor</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">generosity</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">gunpowerCommand</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">health</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">heresyImmunity</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">hitpoints</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">infantryCommand</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">influence</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">law</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">lineOfSight</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">localPopularity</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">looting</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">magic</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">management</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">mining</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">movementPointsBonus</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">navalCommand</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">nightBattle</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">personalSecurity</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">publicSecurity</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">purity</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">sabotage</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">siegeAttack</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">siegeDefense</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">siegeEngineering</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">squalor</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">subterfuge</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">taxCollection</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">trading</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">trainingAgents</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">trainingAnimalUnits</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">trainingUnits</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">troopMorale</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">unorthodoxy</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">unrest</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">violence</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "namedCharacter:setAsHeir"></a>
    <strong>namedCharacter:setAsHeir (onlyHeir)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    set character as faction heir
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">onlyHeir</span>
            <span class="types"><span class="type">bool</span></span>
         true = this character will be the only heir, false = add another heir (faction can appear to have multiple heirs but only one will become leader)
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourcharacter:setAsHeir(<span class="keyword">true</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "namedCharacter:isAlive"></a>
    <strong>namedCharacter:isAlive ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    check if character is alive, read only, do not set value
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        liveStatus true = alive, false = dead
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> ourcharacter:isAlive() == <span class="keyword">true</span> <span class="keyword">then</span>
	ourcharacter.character:kill()
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "namedCharacter:getTraits"></a>
    <strong>namedCharacter:getTraits ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    get pointer to traits container
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#traitContainer">traitContainer</a></span>
        traits
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> thisTrait, traitsList, index = selectedChar:getTraits(), selectedChar.fullName..<span class="string">" traits:"</span>, <span class="number">0</span>
<span class="keyword">while</span> thisTrait ~= <span class="keyword">nil</span> <span class="keyword">do</span>
	traitsList, thisTrait, index = traitsList..<span class="string">"\n\tTrait "</span>..index..<span class="string">" - Name: "</span>..thisTrait.name..<span class="string">" - Level: "</span>..thisTrait.level, thisTrait.nextTrait, index + <span class="number">1</span>
<span class="keyword">end</span>
<span class="global">print</span>(traitsList)</pre>
    </ul>

</dd>
    <dt>
    <a name = "namedCharacter:addTrait"></a>
    <strong>namedCharacter:addTrait (traitName, traitLevel)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    add trait to character
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">traitName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">traitLevel</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourNamedCharacter:addTrait(<span class="string">"GoodCommander"</span>, <span class="number">2</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "namedCharacter:removeTrait"></a>
    <strong>namedCharacter:removeTrait (traitName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    remove trait from character
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">traitName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourNamedCharacter:removeTrait(<span class="string">"GoodCommander"</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "namedCharacter:getAncillary"></a>
    <strong>namedCharacter:getAncillary (index)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    get pointer to ancillary with number
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">index</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#ancillary">ancillary</a></span>
        ancillary
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ancillary = ourNamedCharacter:getAncillary(<span class="number">2</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "namedCharacter:addAncillary"></a>
    <strong>namedCharacter:addAncillary (ancillaryName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    add ancillary to character
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ancillaryName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourNamedCharacter:addAncillary(<span class="string">"VeryVeryGoodMan"</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "namedCharacter:removeAncillary"></a>
    <strong>namedCharacter:removeAncillary (ancillary)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    remove ancillary
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ancillary</span>
            <span class="types"><a class="type" href="index.html#ancillary">ancillary</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourAnc=ourNamedCharacter:getAncillary(<span class="number">2</span>);
ourNamedCharacter:removeAncillary(ourAnc);</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Ancillary"></a>Ancillary </h2>

    <dl class="function">
    <dt>
    <a name = "ancillary"></a>
    <strong>ancillary</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic ancillary table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">index</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">imagePath</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="traitContainer"></a>traitContainer </h2>

    <dl class="function">
    <dt>
    <a name = "traitContainer"></a>
    <strong>traitContainer</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic traits table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">level</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">nextTrait</span>
            <span class="types"><a class="type" href="index.html#traitContainer">traitContainer</a></span>



        </li>
        <li><span class="parameter">prevTrait</span>
            <span class="types"><a class="type" href="index.html#traitContainer">traitContainer</a></span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="FactionStruct"></a>FactionStruct </h2>

    <dl class="function">
    <dt>
    <a name = "factionStruct"></a>
    <strong>factionStruct</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic factionStruct table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">dipNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getFactionName</span>
            <span class="types"><a class="type" href="index.html#factionStruct:getFactionName">getFactionName</a></span>



        </li>
        <li><span class="parameter">ai_label</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">capital</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">leader</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
        <li><span class="parameter">heir</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
        <li><span class="parameter">isPlayerControlled</span>
            <span class="types"><span class="type">int</span></span>
         0=AI, 1=player
        </li>
        <li><span class="parameter">religion</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">money</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">facStrat</span>
            <span class="types"><a class="type" href="index.html#factionStratMapStruct">factionStratMapStruct</a></span>



        </li>
        <li><span class="parameter">numOfNamedCharacters</span>
            <span class="types"><span class="type">int</span></span>
         includes literally all characters without distinction (so also wives, children, dead and those sent off map)
        </li>
        <li><span class="parameter">getNamedCharacter</span>
            <span class="types"><a class="type" href="index.html#factionStruct:getNamedCharacter">getNamedCharacter</a></span>



        </li>
        <li><span class="parameter">numOfCharacters</span>
            <span class="types"><span class="type">int</span></span>
         includes all the characters present on the strat map
        </li>
        <li><span class="parameter">getCharacter</span>
            <span class="types"><a class="type" href="index.html#factionStruct:getCharacter">getCharacter</a></span>



        </li>
        <li><span class="parameter">stacksNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getStack</span>
            <span class="types"><a class="type" href="index.html#factionStruct:getStack">getStack</a></span>



        </li>
        <li><span class="parameter">settlementsNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getSettlement</span>
            <span class="types"><a class="type" href="index.html#factionStruct:getSettlement">getSettlement</a></span>



        </li>
        <li><span class="parameter">fortsNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getFort</span>
            <span class="types"><a class="type" href="index.html#factionStruct:getFort">getFort</a></span>



        </li>
        <li><span class="parameter">portsNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getPort</span>
            <span class="types"><a class="type" href="index.html#factionStruct:getPort">getPort</a></span>



        </li>
        <li><span class="parameter">watchtowersNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getWatchtower</span>
            <span class="types"><a class="type" href="index.html#factionStruct:getWatchtower">getWatchtower</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "factionStruct:getFactionName"></a>
    <strong>factionStruct:getFactionName ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get faction internal name
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        facName
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourFac = stratmap.game.getFaction(<span class="number">0</span>);
ourFacName = ourFac:getFactionName();
<span class="keyword">if</span> ourFacName == <span class="string">"england"</span> <span class="keyword">then</span>
	ourFac.money = ourFac.money + (ourFac.fortsNum * <span class="number">500</span>)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "factionStruct:getNamedCharacter"></a>
    <strong>factionStruct:getNamedCharacter (number)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get named character with number
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">number</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>
        retNamedCharacter
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourNamedCharacter = stratmap.game.getFaction(<span class="number">0</span>):getNamedCharacter(<span class="number">0</span>)
<span class="keyword">if</span> ourNamedCharacter.command &gt; <span class="number">5</span> <span class="keyword">then</span>
	ourFac.money = ourFac.money - (ourNamedCharacter.command * <span class="number">10</span>)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "factionStruct:getCharacter"></a>
    <strong>factionStruct:getCharacter (number)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get character with number
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">number</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#character">character</a></span>
        retCharacter
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourCharacter = stratmap.game.getFaction(<span class="number">0</span>):getCharacter(<span class="number">0</span>)
<span class="keyword">if</span> ourCharacter.xCoord &gt; <span class="number">150</span> <span class="keyword">and</span> ourCharacter.movePoints &lt; <span class="number">10</span> <span class="keyword">then</span>
	ourCharacter:kill()
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "factionStruct:getStack"></a>
    <strong>factionStruct:getStack (number)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get army with number
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">number</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>
        army
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourArmy = stratmap.game.getFaction(<span class="number">0</span>):getCharacter(<span class="number">0</span>)
<span class="keyword">if</span> ourArmy.totalStrength &gt; <span class="number">1500</span> <span class="keyword">then</span>
	ourFac.money = ourFac.money - ourArmy.totalStrength
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "factionStruct:getSettlement"></a>
    <strong>factionStruct:getSettlement (number)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get settlement with number
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">number</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>
        settlement
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourSett = stratmap.game.getFaction(<span class="number">0</span>):getSettlement(<span class="number">0</span>)
<span class="keyword">if</span> ourSett.isProvokedRebellion ~= <span class="number">0</span> <span class="keyword">then</span>
	ourFac.money = ourFac.money - (ourSett.level*<span class="number">5000</span>)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "factionStruct:getFort"></a>
    <strong>factionStruct:getFort (number)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get fort with number
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">number</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#fortStruct">fortStruct</a></span>
        fort
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourFort = stratmap.game.getFaction(<span class="number">0</span>):getFort(<span class="number">0</span>)
<span class="keyword">if</span> ourFort <span class="keyword">then</span>
	<span class="global">print</span>(ourFort.xCoord..<span class="string">", "</span>..ourFort.yCoord)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "factionStruct:getPort"></a>
    <strong>factionStruct:getPort (number)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get port with number
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">number</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#portStruct">portStruct</a></span>
        port
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> thisFac, portList = gameDataAll.get().campaignStruct.currentFaction, <span class="string">"Ports:"</span>
<span class="keyword">for</span> i = <span class="number">0</span>, thisFac.portsNum - <span class="number">1</span>, <span class="number">1</span> <span class="keyword">do</span>
	<span class="keyword">local</span> thisPort = thisFac:getPort(i)
	<span class="keyword">local</span> thisDock = thisPort.dock
	portList = portList..<span class="string">"\n\t"</span>..i..<span class="string">" "</span>..thisPort.settlement.name..<span class="string">" ("</span>..thisPort.xCoord..<span class="string">", "</span>..thisPort.yCoord..<span class="string">") "</span>
	<span class="keyword">if</span> thisDock <span class="keyword">then</span>
		portList = portList..<span class="string">"\n\t\tDock: ("</span>..thisDock.xCoord..<span class="string">", "</span>..thisDock.yCoord..<span class="string">")"</span>
	<span class="keyword">end</span>
<span class="keyword">end</span>
<span class="global">print</span>(portList)</pre>
    </ul>

</dd>
    <dt>
    <a name = "factionStruct:getWatchtower"></a>
    <strong>factionStruct:getWatchtower (number)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get watchtower with number
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">number</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#watchtowerStruct">watchtowerStruct</a></span>
        watchtower
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> thisFac, watchtowerList = gameDataAll.get().campaignStruct.currentFaction, <span class="string">"Watchtowers:"</span>
<span class="keyword">for</span> i = <span class="number">0</span>, thisFac.watchtowersNum - <span class="number">1</span>, <span class="number">1</span> <span class="keyword">do</span>
	<span class="keyword">local</span> thisTower = thisFac:getWatchtower(i)
	watchtowerList = watchtowerList..<span class="string">"\n\t"</span>..i..<span class="string">" ("</span>..thisTower.xCoord..<span class="string">", "</span>..thisTower.yCoord..<span class="string">") "</span>
<span class="keyword">end</span>
<span class="global">print</span>(watchtowerList)</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="FactionStratMapStruct"></a>FactionStratMapStruct </h2>

    <dl class="function">
    <dt>
    <a name = "factionStratMapStruct"></a>
    <strong>factionStratMapStruct</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic factionStratMapStruct table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">primaryColorRed</span>
            <span class="types"><span class="type">int</span></span>
         warning: resets on reload
        </li>
        <li><span class="parameter">primaryColorGreen</span>
            <span class="types"><span class="type">int</span></span>
         warning: resets on reload
        </li>
        <li><span class="parameter">primaryColorBlue</span>
            <span class="types"><span class="type">int</span></span>
         warning: resets on reload
        </li>
        <li><span class="parameter">secondaryColorRed</span>
            <span class="types"><span class="type">int</span></span>
         warning: resets on reload
        </li>
        <li><span class="parameter">secondaryColorGreen</span>
            <span class="types"><span class="type">int</span></span>
         warning: resets on reload
        </li>
        <li><span class="parameter">secondaryColorBlue</span>
            <span class="types"><span class="type">int</span></span>
         warning: resets on reload
        </li>
        <li><span class="parameter">triumphValue</span>
            <span class="types"><span class="type">int</span></span>
         unkown use
        </li>
        <li><span class="parameter">standardIndex</span>
            <span class="types"><span class="type">int</span></span>
         warning: resets on reload
        </li>
        <li><span class="parameter">logoIndex</span>
            <span class="types"><span class="type">int</span></span>
         warning: resets on reload
        </li>
        <li><span class="parameter">smallLogoIndex</span>
            <span class="types"><span class="type">int</span></span>
         warning: resets on reload
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="WatchtowerStruct"></a>WatchtowerStruct </h2>

    <dl class="function">
    <dt>
    <a name = "watchtowerStruct"></a>
    <strong>watchtowerStruct</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic watchtowerStruct table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="FortStruct"></a>FortStruct </h2>

    <dl class="function">
    <dt>
    <a name = "fortStruct"></a>
    <strong>fortStruct</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic fortStruct table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">governor</span>
            <span class="types"><a class="type" href="index.html#character">character</a></span>



        </li>
        <li><span class="parameter">army</span>
            <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>



        </li>
        <li><span class="parameter">ownerFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">siege</span>
            <span class="types"><a class="type" href="index.html#siegeStruct">siegeStruct</a></span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="PortStruct"></a>PortStruct </h2>

    <dl class="function">
    <dt>
    <a name = "portStruct"></a>
    <strong>portStruct</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic portStruct table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>
         land tile, note: setting only moves port strat model
        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>
         land tile, note: setting only moves port strat model
        </li>
        <li><span class="parameter">ownerFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>
         note: port ownership changes to blockading faction (army on port)
        </li>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">character</span>
            <span class="types"><a class="type" href="index.html#character">character</a></span>
         character on port tile, only the first one, check for nil
        </li>
        <li><span class="parameter">blockadingArmy</span>
            <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>
         enemy army blockading port by standing on tile, check for nil
        </li>
        <li><span class="parameter">dock</span>
            <span class="types"><a class="type" href="index.html#dockStruct">dockStruct</a></span>
         water tile, only upgraded ports have this, check for nil
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="DockStruct"></a>DockStruct </h2>

    <dl class="function">
    <dt>
    <a name = "dockStruct"></a>
    <strong>dockStruct</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic dockStruct table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>
         water tile, note: setting only moves dock strat model
        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>
         water tile, note: setting only moves dock strat model
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="SettlementStruct"></a>SettlementStruct </h2>

    <dl class="function">
    <dt>
    <a name = "settlementStruct"></a>
    <strong>settlementStruct</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic settlementStruct table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">governor</span>
            <span class="types"><a class="type" href="index.html#character">character</a></span>



        </li>
        <li><span class="parameter">army</span>
            <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>



        </li>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         internal name of settlement
        </li>
        <li><span class="parameter">ownerFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">changeOwner</span>
            <span class="types"><a class="type" href="index.html#settlementStruct:changeOwner">changeOwner</a></span>



        </li>
        <li><span class="parameter">fac_creatorNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">regionNumber</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">level</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">isCastle</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">isProvokedRebellion</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">populationSize</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getReligion</span>
            <span class="types"><a class="type" href="index.html#settlementStruct:getReligion">getReligion</a></span>



        </li>
        <li><span class="parameter">setReligion</span>
            <span class="types"><a class="type" href="index.html#settlementStruct:setReligion">setReligion</a></span>



        </li>
        <li><span class="parameter">getGuildStanding</span>
            <span class="types"><a class="type" href="index.html#settlementStruct:getGuildStanding">getGuildStanding</a></span>



        </li>
        <li><span class="parameter">setGuildStanding</span>
            <span class="types"><a class="type" href="index.html#settlementStruct:setGuildStanding">setGuildStanding</a></span>



        </li>
        <li><span class="parameter">buildingsNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getBuilding</span>
            <span class="types"><a class="type" href="index.html#settlementStruct:getBuilding">getBuilding</a></span>



        </li>
        <li><span class="parameter">createBuilding</span>
            <span class="types"><a class="type" href="index.html#settlementStruct:createBuilding">createBuilding</a></span>



        </li>
        <li><span class="parameter">destroyBuilding</span>
            <span class="types"><a class="type" href="index.html#settlementStruct:destroyBuilding">destroyBuilding</a></span>



        </li>
        <li><span class="parameter">buildingsQueue</span>
            <span class="types"><a class="type" href="index.html#buildingsQueue">buildingsQueue</a></span>



        </li>
        <li><span class="parameter">resourcesNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getResource</span>
            <span class="types"><a class="type" href="index.html#settlementStruct:getResource">getResource</a></span>



        </li>
        <li><span class="parameter">siegesNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getSiege</span>
            <span class="types"><a class="type" href="index.html#settlementStruct:getSiege">getSiege</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "settlementStruct:changeOwner"></a>
    <strong>settlementStruct:changeOwner (newOwner)</strong>
    </dt>
    <dd>
    <div class="functionDescription">

<p>Change owner faction of settlement. </p>
<pre><code>All agents, armies, etc. leave settlement in the order the factions are built in the file, so not necessarily the one of the playable factions list
</code></pre>

    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">newOwner</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> campaign=gameDataAll.get().campaignStruct;
<span class="keyword">local</span> fac1=campaign.factionsSortedByDescrStrat[<span class="number">1</span>];
currSet:changeOwner(fac1);
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "settlementStruct:getReligion"></a>
    <strong>settlementStruct:getReligion (religionID)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get settlement religion value
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">religionID</span>
            <span class="types"><span class="type">int</span></span>
         in order of descr_religions.txt, starting from 0
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        religionValue from 0 to 1
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> firstRelVal = settlementStruct:getReligion(<span class="number">0</span>) <span class="comment">--get float of religion with ID 0</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "settlementStruct:setReligion"></a>
    <strong>settlementStruct:setReligion (religionID, religionValue)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set settlement religion value, make sure sum of all religion values does not exceed 1.0!
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">religionID</span>
            <span class="types"><span class="type">int</span></span>
         in order of descr_religions.txt, starting from 0
        </li>
        <li><span class="parameter">religionValue</span>
            <span class="types"><span class="type">float</span></span>
         from 0 to 1
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">settlementStruct:setReligion(<span class="number">0</span>, <span class="number">0.5</span>) <span class="comment">--set religion with ID 0 as 50%</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "settlementStruct:getGuildStanding"></a>
    <strong>settlementStruct:getGuildStanding (guild_id)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get guild standing by ID
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">guild_id</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourGuildStanding = settlementStruct:getGuildStanding(<span class="number">0</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "settlementStruct:setGuildStanding"></a>
    <strong>settlementStruct:setGuildStanding (guild_id, standing)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set settlement standing points with guild
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">guild_id</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">standing</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">settlementStruct:setGuildStanding(<span class="number">0</span>, <span class="number">300</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "settlementStruct:getBuilding"></a>
    <strong>settlementStruct:getBuilding (number)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get building with number
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">number</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#building">building</a></span>
        build
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourBuilding=settlementStruct:getBuilding(<span class="number">0</span>);
<span class="keyword">if</span>(ourBuilding.level&gt;<span class="number">1</span>)
<span class="keyword">then</span>
	<span class="global">print</span>(<span class="string">"test"</span>);
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "settlementStruct:createBuilding"></a>
    <strong>settlementStruct:createBuilding (building_level_id)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Create building.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">building_level_id</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">settlementStruct:createBuilding(<span class="string">"some_build1"</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "settlementStruct:destroyBuilding"></a>
    <strong>settlementStruct:destroyBuilding (typeName, isReturnMoney)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Destroy building of type.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">typeName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         type of building
        </li>
        <li><span class="parameter">isReturnMoney</span>
            <span class="types"><span class="type">bool</span></span>
         return money or not
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">settlementStruct:destroyBuilding(<span class="string">"some_buildType"</span>,<span class="keyword">false</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "settlementStruct:getResource"></a>
    <strong>settlementStruct:getResource (number)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get resource with number
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">number</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#tradeResource">tradeResource</a></span>
        resource
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourResource = settlementStruct:getResource(<span class="number">0</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "settlementStruct:getSiege"></a>
    <strong>settlementStruct:getSiege (siegeIdx)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get siege with index
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">siegeIdx</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#siegeStruct">siegeStruct</a></span>
        siege
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">for</span> i = <span class="number">0</span>, currSet.siegesNum-<span class="number">1</span> <span class="keyword">do</span>
   <span class="keyword">local</span> siege=currSet:getSiege(i);
   <span class="comment">--etc
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Building"></a>Building </h2>

    <dl class="function">
    <dt>
    <a name = "building"></a>
    <strong>building</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic building table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">level</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">hp</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">getType</span>
            <span class="types"><a class="type" href="index.html#building:getType">getType</a></span>



        </li>
        <li><span class="parameter">getName</span>
            <span class="types"><a class="type" href="index.html#building:getName">getName</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "building:getType"></a>
    <strong>building:getType ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get name of building type (chain)
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        buildingType (building chain name)
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> building:getType() == <span class="string">"core_building"</span> <span class="keyword">then</span>
	<span class="comment">--do stuff
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "building:getName"></a>
    <strong>building:getName ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get name of building level
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        buildingName
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> building:getName() == <span class="string">"large_stone_wall"</span> <span class="keyword">then</span>
	<span class="comment">--do stuff
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="BuildingsQueue"></a>BuildingsQueue </h2>

    <dl class="function">
    <dt>
    <a name = "buildingsQueue"></a>
    <strong>buildingsQueue</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic buildingsQueue table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">currentlyBuilding</span>
            <span class="types"><span class="type">int</span></span>
         position in queue of building currently under construction, usually 1
        </li>
        <li><span class="parameter">numBuildingsInQueue</span>
            <span class="types"><span class="type">int</span></span>
         maximum is 6
        </li>
        <li><span class="parameter">getBuildingInQueue</span>
            <span class="types"><a class="type" href="index.html#buildingsQueue:getBuildingInQueue">getBuildingInQueue</a></span>
         by position in queue (1-6)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "buildingsQueue:getBuildingInQueue"></a>
    <strong>buildingsQueue:getBuildingInQueue (position)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get building in queue by position
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">position</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#buildingInQueue">buildingInQueue</a></span>
        buildingInQueue
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> ourQueue.numBuildingsInQueue &gt; <span class="number">0</span> <span class="keyword">then</span>
	<span class="keyword">local</span> result = <span class="string">"ourQueue:\n\t"</span>
	<span class="keyword">for</span> i = <span class="number">1</span>, ourQueue.numBuildingsInQueue, <span class="number">1</span> <span class="keyword">do</span>
		<span class="keyword">local</span> ourQueueBuld = ourQueue:getBuildingInQueue(i)
		result = result..i..<span class="string">" "</span>..ourQueueBuld:getQueueBuildingName()..<span class="string">"\n\t"</span>
	<span class="keyword">end</span>
	<span class="global">print</span>(result)
<span class="keyword">end</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="BuildingInQueue"></a>BuildingInQueue </h2>

    <dl class="function">
    <dt>
    <a name = "buildingInQueue"></a>
    <strong>buildingInQueue</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic buildingInQueue table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">building</span>
            <span class="types"><a class="type" href="index.html#building">building</a></span>
         nil if building doesn't exist yet
        </li>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">currentLevel</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">previousLevel</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">buildCost</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">buildTurnsPassed</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">buildTurnsRemaining</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">percentBuilt</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getQueueBuildingType</span>
            <span class="types"><a class="type" href="index.html#building:getQueueBuildingType">getQueueBuildingType</a></span>



        </li>
        <li><span class="parameter">getQueueBuildingName</span>
            <span class="types"><a class="type" href="index.html#building:getQueueBuildingName">getQueueBuildingName</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "building:getQueueBuildingType"></a>
    <strong>building:getQueueBuildingType ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get name of building in queue type (chain)
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        buildingType (building chain name)
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> ourQueueBld:getQueueBuildingType() = <span class="string">"core_building"</span> <span class="keyword">then</span>
	<span class="comment">--do stuff
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "building:getQueueBuildingName"></a>
    <strong>building:getQueueBuildingName ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get name of building in queue level
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        buildingName
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> ourQueueBld:getQueueBuildingName() = <span class="string">"wooden_pallisade"</span> <span class="keyword">then</span>
	<span class="comment">--do stuff
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Guild"></a>Guild </h2>

    <dl class="function">
    <dt>
    <a name = "guild"></a>
    <strong>guild</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic guild table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">id</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">level1</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">level2</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">level3</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="TradeResource"></a>TradeResource </h2>

    <dl class="function">
    <dt>
    <a name = "tradeResource"></a>
    <strong>tradeResource</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic tradeResource table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">setStratModel</span>
            <span class="types"><a class="type" href="index.html#tradeResource:setStratModel">setStratModel</a></span>



        </li>
        <li><span class="parameter">getResourceID</span>
            <span class="types"><a class="type" href="index.html#tradeResource:getResourceID">getResourceID</a></span>



        </li>
        <li><span class="parameter">getResourceValue</span>
            <span class="types"><a class="type" href="index.html#tradeResource:getResourceValue">getResourceValue</a></span>



        </li>
        <li><span class="parameter">getResourceHasMine</span>
            <span class="types"><a class="type" href="index.html#tradeResource:getResourceHasMine">getResourceHasMine</a></span>



        </li>
        <li><span class="parameter">getResourceImage</span>
            <span class="types"><a class="type" href="index.html#tradeResource:getResourceImage">getResourceImage</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "tradeResource:setStratModel"></a>
    <strong>tradeResource:setStratModel (modelId)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set resource strat model
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">modelId</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">tradeResource:setStratModel(<span class="number">5</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "tradeResource:getResourceID"></a>
    <strong>tradeResource:getResourceID ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get resource ID
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        ID
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> tradeResource:getResourceID() == <span class="number">23</span> <span class="keyword">then</span> <span class="comment">--wool
</span>	<span class="comment">--do stuff
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "tradeResource:getResourceValue"></a>
    <strong>tradeResource:getResourceValue ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get resource trade value
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        value
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> tradeResource:getResourceValue() == <span class="number">5</span> <span class="keyword">then</span>
	<span class="comment">--do stuff
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "tradeResource:getResourceHasMine"></a>
    <strong>tradeResource:getResourceHasMine ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get resource mine value
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        hasMine 0=no mine, 1=mine
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> tradeResource:getResourceHasMine() == <span class="number">1</span> <span class="keyword">then</span>
	<span class="comment">--do stuff
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "tradeResource:getResourceImage"></a>
    <strong>tradeResource:getResourceImage ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get resource image (icon) relative path
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        imagePath
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onSettlementSelected(selectedSett)
	<span class="keyword">local</span> resList = <span class="string">""</span>
	<span class="keyword">for</span> i = <span class="number">0</span>, selectedSett.resourcesNum - <span class="number">1</span>, <span class="number">1</span> <span class="keyword">do</span>
		<span class="keyword">local</span> thisRes = selectedSett:getResource(i)
		resList = resList..<span class="string">"Resource ID: "</span>..thisRes:getResourceID()..<span class="string">"\n\t("</span>..thisRes.xCoord..<span class="string">", "</span>..thisRes.yCoord..<span class="string">")\n\tTrade Value: "</span>..thisRes:getResourceValue()..<span class="string">"\n\thasMine: "</span>..thisRes:getResourceHasMine()..<span class="string">"\n\timage: "</span>..thisRes:getResourceImage()..<span class="string">"\n\n"</span>
	<span class="keyword">end</span>
	<span class="global">print</span>(selectedSett.name..<span class="string">" resource list\n\n"</span>..resList)
<span class="keyword">end</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="StackStruct"></a>StackStruct </h2>

    <dl class="function">
    <dt>
    <a name = "stackStruct"></a>
    <strong>stackStruct</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic stackStruct table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">getUnit</span>
            <span class="types"><a class="type" href="index.html#stackStruct:getUnit">getUnit</a></span>



        </li>
        <li><span class="parameter">numOfUnits</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getCharacter</span>
            <span class="types"><a class="type" href="index.html#factionStruct:getCharacter">getCharacter</a></span>



        </li>
        <li><span class="parameter">numOfCharacters</span>
            <span class="types"><span class="type">int</span></span>
         Includes Auxiliary generals and agents (i.e all characters excluding the leading general)
        </li>
        <li><span class="parameter">boardedArmy</span>
            <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>
         army embarked on this fleet stack
        </li>
        <li><span class="parameter">shipArmy</span>
            <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>
         fleet that this army stack is embarked on
        </li>
        <li><span class="parameter">blockedPort</span>
            <span class="types"><a class="type" href="index.html#portStruct">portStruct</a></span>



        </li>
        <li><span class="parameter">leader</span>
            <span class="types"><a class="type" href="index.html#character">character</a></span>
         returns nil if stack is inside residence (fleet, settlement, fort)
        </li>
        <li><span class="parameter">findInSettlement</span>
            <span class="types"><a class="type" href="index.html#stackStruct:findInSettlement">findInSettlement</a></span>



        </li>
        <li><span class="parameter">findInFort</span>
            <span class="types"><a class="type" href="index.html#stackStruct:findInFort">findInFort</a></span>



        </li>
        <li><span class="parameter">totalStrength</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">reform_point_x</span>
            <span class="types"><span class="type">float</span></span>
         x coordinate to which the retreating units will go
        </li>
        <li><span class="parameter">reform_point_y</span>
            <span class="types"><span class="type">float</span></span>
         y coordinate to which the retreating units will go
        </li>
        <li><span class="parameter">createEOPUnit</span>
            <span class="types"><a class="type" href="index.html#stackStruct:createEOPUnit">createEOPUnit</a></span>



        </li>
        <li><span class="parameter">createUnit</span>
            <span class="types"><a class="type" href="index.html#stackStruct:createUnit">createUnit</a></span>



        </li>
        <li><span class="parameter">createUnitByIDX</span>
            <span class="types"><a class="type" href="index.html#stackStruct:createUnitByIDX">createUnitByIDX</a></span>



        </li>
        <li><span class="parameter">siegeSettlement</span>
            <span class="types"><a class="type" href="index.html#stackStruct:siegeSettlement">siegeSettlement</a></span>
         call twice to initiate assault
        </li>
        <li><span class="parameter">attackArmy</span>
            <span class="types"><a class="type" href="index.html#stackStruct:attackArmy">attackArmy</a></span>



        </li>
        <li><span class="parameter">siege</span>
            <span class="types"><a class="type" href="index.html#siegeStruct">siegeStruct</a></span>
         current siege
        </li>
    </ul>





</dd>
    <dt>
    <a name = "stackStruct:getUnit"></a>
    <strong>stackStruct:getUnit (number)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get unit with number
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">number</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#unit">unit</a></span>
        retUnit
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourUnit=stackStruct:getUnit(<span class="number">0</span>);
ourUnit:kill();</pre>
    </ul>

</dd>
    <dt>
    <a name = "stackStruct:getCharacter"></a>
    <strong>stackStruct:getCharacter (number)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get character(agent) with number
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">number</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#character">character</a></span>
        retCharacter
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourChar=stackStruct:getCharacter(<span class="number">0</span>);
ourChar:kill();</pre>
    </ul>

</dd>
    <dt>
    <a name = "stackStruct:findInSettlement"></a>
    <strong>stackStruct:findInSettlement ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Find the settlement in which the army is located    Returns nil if the army is not in the settlement.
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>
        settlement
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourSett=stackStruct:findInSettlement();
<span class="keyword">if</span>(ourSett~=<span class="keyword">nil</span>)
<span class="keyword">then</span>
	<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "stackStruct:findInFort"></a>
    <strong>stackStruct:findInFort ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Find the fort in which the army is located  Returns nil if the army is not in the fort.
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#fortStruct">fortStruct</a></span>
        fort
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">ourFort=stackStruct:findInFort();
<span class="keyword">if</span>(ourFort~=<span class="keyword">nil</span>)
<span class="keyword">then</span>
	<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "stackStruct:createEOPUnit"></a>
    <strong>stackStruct:createEOPUnit (index, exp, armor, weapon)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Create unit in army by type from M2TWEOP units DB(M2TWEOPDU, no have 500 types limit).
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">index</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">exp</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">armor</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">weapon</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#unit">unit</a></span>
        newUnit
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> newUnit=stackStruct:createEOPUnit(<span class="number">1000</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "stackStruct:createUnit"></a>
    <strong>stackStruct:createUnit (type, exp, armor, weapon)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Create unit in army by type from EDB.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">type</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">exp</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">armor</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">weapon</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#unit">unit</a></span>
        newUnit
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> newUnit=stackStruct:createUnit(<span class="string">"Axemen of Lossarnach"</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "stackStruct:createUnitByIDX"></a>
    <strong>stackStruct:createUnitByIDX (index, exp, armor, weapon)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Create unit in army by index from EDB.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">index</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">exp</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">armor</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">weapon</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#unit">unit</a></span>
        newUnit
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> newUnit=stackStruct:createUnitByIDX(<span class="number">255</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "stackStruct:siegeSettlement"></a>
    <strong>stackStruct:siegeSettlement (settlement)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Siege settlement, or attack it if in siege.  Need movePoints.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">stackStruct:siegeSettlement(settlement);</pre>
    </ul>

</dd>
    <dt>
    <a name = "stackStruct:attackArmy"></a>
    <strong>stackStruct:attackArmy (defender)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Attack another army.  Need movePoints.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">defender</span>
            <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        ifSucess
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">sucess=stackStruct:attackArmy(defenderArmy);
<span class="keyword">if</span>(sucess~=<span class="number">0</span>)
<span class="keyword">then</span>
	<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="siegeStruct"></a>siegeStruct </h2>

    <dl class="function">
    <dt>
    <a name = "siegeStruct"></a>
    <strong>siegeStruct</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic siegeStruct table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">besieger</span>
            <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>



        </li>
        <li><span class="parameter">besiegedSettlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">besiegedFort</span>
            <span class="types"><a class="type" href="index.html#fortStruct">fortStruct</a></span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="EOP_Events"></a>EOP Events </h2>

    <dl class="function">
    <dt>
    <a name = "EventsFunctionsList"></a>
    <strong>EventsFunctionsList</strong>
    </dt>
    <dd>
    <div class="functionDescription">

<p>Events functions list. </p>
<pre><code>Just list, use it without EventsFunctionsList.!!!
</code></pre>


    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">draw</span>
            <span class="types"><a class="type" href="index.html#draw">draw</a></span>



        </li>
        <li><span class="parameter">onReadGameDbsAtStart</span>
            <span class="types"><a class="type" href="index.html#onReadGameDbsAtStart">onReadGameDbsAtStart</a></span>



        </li>
        <li><span class="parameter">onClickAtTile</span>
            <span class="types"><a class="type" href="index.html#onClickAtTile">onClickAtTile</a></span>



        </li>
        <li><span class="parameter">onNewGameStart</span>
            <span class="types"><a class="type" href="index.html#onNewGameStart">onNewGameStart</a></span>



        </li>
        <li><span class="parameter">onCampaignMapLoaded</span>
            <span class="types"><a class="type" href="index.html#onCampaignMapLoaded">onCampaignMapLoaded</a></span>



        </li>
        <li><span class="parameter">onCreateSaveFile</span>
            <span class="types"><a class="type" href="index.html#onCreateSaveFile">onCreateSaveFile</a></span>



        </li>
        <li><span class="parameter">onLoadSaveFile</span>
            <span class="types"><a class="type" href="index.html#onLoadSaveFile">onLoadSaveFile</a></span>



        </li>
        <li><span class="parameter">onPluginLoad</span>
            <span class="types"><a class="type" href="index.html#onPluginLoad">onPluginLoad</a></span>



        </li>
        <li><span class="parameter">onEndSiege</span>
            <span class="types"><a class="type" href="index.html#onEndSiege">onEndSiege</a></span>



        </li>
        <li><span class="parameter">onStartSiege</span>
            <span class="types"><a class="type" href="index.html#onStartSiege">onStartSiege</a></span>



        </li>
        <li><span class="parameter">onSelectWorldpkgdesc</span>
            <span class="types"><a class="type" href="index.html#onSelectWorldpkgdesc">onSelectWorldpkgdesc</a></span>



        </li>
        <li><span class="parameter">onChangeTurnNum</span>
            <span class="types"><a class="type" href="index.html#onChangeTurnNum">onChangeTurnNum</a></span>



        </li>
        <li><span class="parameter">onCharacterSelected</span>
            <span class="types"><a class="type" href="index.html#onCharacterSelected">onCharacterSelected</a></span>



        </li>
        <li><span class="parameter">onPreFactionTurnStart</span>
            <span class="types"><a class="type" href="index.html#onPreFactionTurnStart">onPreFactionTurnStart</a></span>



        </li>
        <li><span class="parameter">onFactionTurnStart</span>
            <span class="types"><a class="type" href="index.html#onFactionTurnStart">onFactionTurnStart</a></span>



        </li>
        <li><span class="parameter">onFactionTurnEnd</span>
            <span class="types"><a class="type" href="index.html#onFactionTurnEnd">onFactionTurnEnd</a></span>



        </li>
        <li><span class="parameter">onFactionNewCapital</span>
            <span class="types"><a class="type" href="index.html#onFactionNewCapital">onFactionNewCapital</a></span>



        </li>
        <li><span class="parameter">onFactionWarDeclared</span>
            <span class="types"><a class="type" href="index.html#onFactionWarDeclared">onFactionWarDeclared</a></span>



        </li>
        <li><span class="parameter">onFactionAllianceDeclared</span>
            <span class="types"><a class="type" href="index.html#onFactionAllianceDeclared">onFactionAllianceDeclared</a></span>



        </li>
        <li><span class="parameter">onFactionTradeAgreementMade</span>
            <span class="types"><a class="type" href="index.html#onFactionTradeAgreementMade">onFactionTradeAgreementMade</a></span>



        </li>
        <li><span class="parameter">onFactionBreakAlliance</span>
            <span class="types"><a class="type" href="index.html#onFactionBreakAlliance">onFactionBreakAlliance</a></span>



        </li>
        <li><span class="parameter">onGiveMoney</span>
            <span class="types"><a class="type" href="index.html#onGiveMoney">onGiveMoney</a></span>



        </li>
        <li><span class="parameter">onUpdateAttitude</span>
            <span class="types"><a class="type" href="index.html#onUpdateAttitude">onUpdateAttitude</a></span>



        </li>
        <li><span class="parameter">onDemeanour</span>
            <span class="types"><a class="type" href="index.html#onDemeanour">onDemeanour</a></span>



        </li>
        <li><span class="parameter">onGeneralAssaultsGeneral</span>
            <span class="types"><a class="type" href="index.html#onGeneralAssaultsGeneral">onGeneralAssaultsGeneral</a></span>



        </li>
        <li><span class="parameter">onGeneralAssaultsResidence</span>
            <span class="types"><a class="type" href="index.html#onGeneralAssaultsResidence">onGeneralAssaultsResidence</a></span>



        </li>
        <li><span class="parameter">onGeneralCaptureSettlement</span>
            <span class="types"><a class="type" href="index.html#onGeneralCaptureSettlement">onGeneralCaptureSettlement</a></span>



        </li>
        <li><span class="parameter">onGeneralCaptureResidence</span>
            <span class="types"><a class="type" href="index.html#onGeneralCaptureResidence">onGeneralCaptureResidence</a></span>



        </li>
        <li><span class="parameter">onSiegeEquipmentCompleted</span>
            <span class="types"><a class="type" href="index.html#onSiegeEquipmentCompleted">onSiegeEquipmentCompleted</a></span>



        </li>
        <li><span class="parameter">onPostBattle</span>
            <span class="types"><a class="type" href="index.html#onPostBattle">onPostBattle</a></span>



        </li>
        <li><span class="parameter">onMultiTurnMove</span>
            <span class="types"><a class="type" href="index.html#onMultiTurnMove">onMultiTurnMove</a></span>



        </li>
        <li><span class="parameter">onSettlementSelected</span>
            <span class="types"><a class="type" href="index.html#onSettlementSelected">onSettlementSelected</a></span>



        </li>
        <li><span class="parameter">onSettlementUpgraded</span>
            <span class="types"><a class="type" href="index.html#onSettlementUpgraded">onSettlementUpgraded</a></span>



        </li>
        <li><span class="parameter">onSettlementConverted</span>
            <span class="types"><a class="type" href="index.html#onSettlementConverted">onSettlementConverted</a></span>



        </li>
        <li><span class="parameter">onCityRiots</span>
            <span class="types"><a class="type" href="index.html#onCityRiots">onCityRiots</a></span>



        </li>
        <li><span class="parameter">onUngarrisonedSettlement</span>
            <span class="types"><a class="type" href="index.html#onUngarrisonedSettlement">onUngarrisonedSettlement</a></span>



        </li>
        <li><span class="parameter">onUngarrisonedFort</span>
            <span class="types"><a class="type" href="index.html#onUngarrisonedFort">onUngarrisonedFort</a></span>



        </li>
        <li><span class="parameter">onGiveSettlement</span>
            <span class="types"><a class="type" href="index.html#onGiveSettlement">onGiveSettlement</a></span>



        </li>
        <li><span class="parameter">onOccupySettlement</span>
            <span class="types"><a class="type" href="index.html#onOccupySettlement">onOccupySettlement</a></span>



        </li>
        <li><span class="parameter">onExterminatePopulation</span>
            <span class="types"><a class="type" href="index.html#onExterminatePopulation">onExterminatePopulation</a></span>



        </li>
        <li><span class="parameter">onSackSettlement</span>
            <span class="types"><a class="type" href="index.html#onSackSettlement">onSackSettlement</a></span>



        </li>
        <li><span class="parameter">onAddedToBuildingQueue</span>
            <span class="types"><a class="type" href="index.html#onAddedToBuildingQueue">onAddedToBuildingQueue</a></span>



        </li>
        <li><span class="parameter">onBuildingDestroyed</span>
            <span class="types"><a class="type" href="index.html#onBuildingDestroyed">onBuildingDestroyed</a></span>



        </li>
        <li><span class="parameter">onBuildingCompleted</span>
            <span class="types"><a class="type" href="index.html#onBuildingCompleted">onBuildingCompleted</a></span>



        </li>
        <li><span class="parameter">onEventCounter</span>
            <span class="types"><a class="type" href="index.html#onEventCounter">onEventCounter</a></span>



        </li>
        <li><span class="parameter">onFactionExcommunicated</span>
            <span class="types"><a class="type" href="index.html#onFactionExcommunicated">onFactionExcommunicated</a></span>



        </li>
        <li><span class="parameter">onDisaster</span>
            <span class="types"><a class="type" href="index.html#onDisaster">onDisaster</a></span>



        </li>
        <li><span class="parameter">onHordeFormed</span>
            <span class="types"><a class="type" href="index.html#onHordeFormed">onHordeFormed</a></span>



        </li>
        <li><span class="parameter">onAddedToTrainingQueue</span>
            <span class="types"><a class="type" href="index.html#onAddedToTrainingQueue">onAddedToTrainingQueue</a></span>



        </li>
        <li><span class="parameter">onUnitDisbanded</span>
            <span class="types"><a class="type" href="index.html#onUnitDisbanded">onUnitDisbanded</a></span>



        </li>
        <li><span class="parameter">onUnitTrained</span>
            <span class="types"><a class="type" href="index.html#onUnitTrained">onUnitTrained</a></span>



        </li>
        <li><span class="parameter">onAgentCreated</span>
            <span class="types"><a class="type" href="index.html#onAgentCreated">onAgentCreated</a></span>



        </li>
        <li><span class="parameter">onObjSeen</span>
            <span class="types"><a class="type" href="index.html#onObjSeen">onObjSeen</a></span>



        </li>
        <li><span class="parameter">onTileSeen</span>
            <span class="types"><a class="type" href="index.html#onTileSeen">onTileSeen</a></span>



        </li>
        <li><span class="parameter">onGameReloaded</span>
            <span class="types"><a class="type" href="index.html#onGameReloaded">onGameReloaded</a></span>



        </li>
        <li><span class="parameter">onTransgression</span>
            <span class="types"><a class="type" href="index.html#onTransgression">onTransgression</a></span>



        </li>
        <li><span class="parameter">onPopeAcceptsCrusadeTarget</span>
            <span class="types"><a class="type" href="index.html#onPopeAcceptsCrusadeTarget">onPopeAcceptsCrusadeTarget</a></span>



        </li>
        <li><span class="parameter">onCrusadeCalled</span>
            <span class="types"><a class="type" href="index.html#onCrusadeCalled">onCrusadeCalled</a></span>



        </li>
        <li><span class="parameter">onCrusadeEnds</span>
            <span class="types"><a class="type" href="index.html#onCrusadeEnds">onCrusadeEnds</a></span>



        </li>
        <li><span class="parameter">onPopeRejectsCrusadeTarget</span>
            <span class="types"><a class="type" href="index.html#onPopeRejectsCrusadeTarget">onPopeRejectsCrusadeTarget</a></span>



        </li>
        <li><span class="parameter">onArmyTakesCrusadeTarget</span>
            <span class="types"><a class="type" href="index.html#onArmyTakesCrusadeTarget">onArmyTakesCrusadeTarget</a></span>



        </li>
        <li><span class="parameter">onUnitsDesertCrusade</span>
            <span class="types"><a class="type" href="index.html#onUnitsDesertCrusade">onUnitsDesertCrusade</a></span>



        </li>
        <li><span class="parameter">onPopeElected</span>
            <span class="types"><a class="type" href="index.html#onPopeElected">onPopeElected</a></span>



        </li>
        <li><span class="parameter">onVotedForPope</span>
            <span class="types"><a class="type" href="index.html#onVotedForPope">onVotedForPope</a></span>



        </li>
        <li><span class="parameter">onAssassinCaughtAttackingPope</span>
            <span class="types"><a class="type" href="index.html#onAssassinCaughtAttackingPope">onAssassinCaughtAttackingPope</a></span>



        </li>
        <li><span class="parameter">onInquisitorAppointed</span>
            <span class="types"><a class="type" href="index.html#onInquisitorAppointed">onInquisitorAppointed</a></span>



        </li>
        <li><span class="parameter">onSettlementPanelOpen</span>
            <span class="types"><a class="type" href="index.html#onSettlementPanelOpen">onSettlementPanelOpen</a></span>



        </li>
        <li><span class="parameter">onFinancesPanelOpen</span>
            <span class="types"><a class="type" href="index.html#onFinancesPanelOpen">onFinancesPanelOpen</a></span>



        </li>
        <li><span class="parameter">onFactionSummaryPanelOpen</span>
            <span class="types"><a class="type" href="index.html#onFactionSummaryPanelOpen">onFactionSummaryPanelOpen</a></span>



        </li>
        <li><span class="parameter">onFamilyTreePanelOpenFunc</span>
            <span class="types"><a class="type" href="index.html#onFamilyTreePanelOpenFunc">onFamilyTreePanelOpenFunc</a></span>



        </li>
        <li><span class="parameter">onDiplomaticStandingPanelOpen</span>
            <span class="types"><a class="type" href="index.html#onDiplomaticStandingPanelOpen">onDiplomaticStandingPanelOpen</a></span>



        </li>
        <li><span class="parameter">onDiplomacyPanelOpen</span>
            <span class="types"><a class="type" href="index.html#onDiplomacyPanelOpen">onDiplomacyPanelOpen</a></span>



        </li>
        <li><span class="parameter">onPreBattlePanelOpen</span>
            <span class="types"><a class="type" href="index.html#onPreBattlePanelOpen">onPreBattlePanelOpen</a></span>



        </li>
        <li><span class="parameter">onNavalAutoResolvePanelOpen</span>
            <span class="types"><a class="type" href="index.html#onNavalAutoResolvePanelOpen">onNavalAutoResolvePanelOpen</a></span>



        </li>
        <li><span class="parameter">onCharacterPanelOpen</span>
            <span class="types"><a class="type" href="index.html#onCharacterPanelOpen">onCharacterPanelOpen</a></span>



        </li>
        <li><span class="parameter">onTradePanelOpen</span>
            <span class="types"><a class="type" href="index.html#onTradePanelOpen">onTradePanelOpen</a></span>



        </li>
        <li><span class="parameter">onRequestBuildingAdvice</span>
            <span class="types"><a class="type" href="index.html#onRequestBuildingAdvice">onRequestBuildingAdvice</a></span>



        </li>
        <li><span class="parameter">onRequestTrainingAdvice</span>
            <span class="types"><a class="type" href="index.html#onRequestTrainingAdvice">onRequestTrainingAdvice</a></span>



        </li>
        <li><span class="parameter">onMessageOpen</span>
            <span class="types"><a class="type" href="index.html#onMessageOpen">onMessageOpen</a></span>



        </li>
        <li><span class="parameter">onIncomingMessage</span>
            <span class="types"><a class="type" href="index.html#onIncomingMessage">onIncomingMessage</a></span>



        </li>
        <li><span class="parameter">onMessageClosed</span>
            <span class="types"><a class="type" href="index.html#onMessageClosed">onMessageClosed</a></span>



        </li>
        <li><span class="parameter">onButtonPressed</span>
            <span class="types"><a class="type" href="index.html#onButtonPressed">onButtonPressed</a></span>



        </li>
        <li><span class="parameter">onScrollClosed</span>
            <span class="types"><a class="type" href="index.html#onScrollClosed">onScrollClosed</a></span>



        </li>
        <li><span class="parameter">onScrollOpened</span>
            <span class="types"><a class="type" href="index.html#onScrollOpened">onScrollOpened</a></span>



        </li>
        <li><span class="parameter">onUIElementVisible</span>
            <span class="types"><a class="type" href="index.html#onUIElementVisible">onUIElementVisible</a></span>



        </li>
        <li><span class="parameter">onScrollAdviceRequested</span>
            <span class="types"><a class="type" href="index.html#onScrollAdviceRequested">onScrollAdviceRequested</a></span>



        </li>
        <li><span class="parameter">onSettlementScrollAdviceRequested</span>
            <span class="types"><a class="type" href="index.html#onSettlementScrollAdviceRequested">onSettlementScrollAdviceRequested</a></span>



        </li>
        <li><span class="parameter">onPreBattleScrollAdviceRequested</span>
            <span class="types"><a class="type" href="index.html#onPreBattleScrollAdviceRequested">onPreBattleScrollAdviceRequested</a></span>



        </li>
        <li><span class="parameter">onNavalPreBattleScrollAdviceRequested</span>
            <span class="types"><a class="type" href="index.html#onNavalPreBattleScrollAdviceRequested">onNavalPreBattleScrollAdviceRequested</a></span>



        </li>
        <li><span class="parameter">onCollegeOfCardinalsPanelOpen</span>
            <span class="types"><a class="type" href="index.html#onCollegeOfCardinalsPanelOpen">onCollegeOfCardinalsPanelOpen</a></span>



        </li>
        <li><span class="parameter">onGuildUpgraded</span>
            <span class="types"><a class="type" href="index.html#onGuildUpgraded">onGuildUpgraded</a></span>



        </li>
        <li><span class="parameter">onGuildDestroyed</span>
            <span class="types"><a class="type" href="index.html#onGuildDestroyed">onGuildDestroyed</a></span>



        </li>
        <li><span class="parameter">onBrotherAdopted</span>
            <span class="types"><a class="type" href="index.html#onBrotherAdopted">onBrotherAdopted</a></span>



        </li>
        <li><span class="parameter">onBirth</span>
            <span class="types"><a class="type" href="index.html#onBirth">onBirth</a></span>



        </li>
        <li><span class="parameter">onCharacterComesOfAge</span>
            <span class="types"><a class="type" href="index.html#onCharacterComesOfAge">onCharacterComesOfAge</a></span>



        </li>
        <li><span class="parameter">onCharacterMarries</span>
            <span class="types"><a class="type" href="index.html#onCharacterMarries">onCharacterMarries</a></span>



        </li>
        <li><span class="parameter">onCharacterMarriesPrincess</span>
            <span class="types"><a class="type" href="index.html#onCharacterMarriesPrincess">onCharacterMarriesPrincess</a></span>



        </li>
        <li><span class="parameter">onCharacterBecomesAFather</span>
            <span class="types"><a class="type" href="index.html#onCharacterBecomesAFather">onCharacterBecomesAFather</a></span>



        </li>
        <li><span class="parameter">onNewAdmiralCreated</span>
            <span class="types"><a class="type" href="index.html#onNewAdmiralCreated">onNewAdmiralCreated</a></span>



        </li>
        <li><span class="parameter">onShortcutTriggered</span>
            <span class="types"><a class="type" href="index.html#onShortcutTriggered">onShortcutTriggered</a></span>



        </li>
        <li><span class="parameter">onBecomesFactionLeader</span>
            <span class="types"><a class="type" href="index.html#onBecomesFactionLeader">onBecomesFactionLeader</a></span>



        </li>
        <li><span class="parameter">onBecomesFactionHeir</span>
            <span class="types"><a class="type" href="index.html#onBecomesFactionHeir">onBecomesFactionHeir</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "draw"></a>
    <strong>draw (pDevice)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called every time an image is rendered for display
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">pDevice</span>
            <span class="types"><span class="type">LPDIRECT3DDEVICE9</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> draw(device)
	ImGui.Begin(<span class="string">"test"</span>);

	ImGui.Text(<span class="string">"Some test text"</span>)

	ImGui.End();
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onNewGameStart"></a>
    <strong>onNewGameStart ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called when a new campaign is started from the menu
    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onNewGameStart()
<span class="comment">--something here
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onReadGameDbsAtStart"></a>
    <strong>onReadGameDbsAtStart ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called after the game loads various db`s (edu, etc) at startup.
    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onReadGameDbsAtStart()
<span class="comment">--something here
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onClickAtTile"></a>
    <strong>onClickAtTile (x, y)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called on clicking the stratmap, use ONLY in the same way as the usage example!!
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">y</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">clickAtMap={[<span class="string">"isClicked"</span>]=<span class="keyword">false</span>,[<span class="string">"xTile"</span>]=<span class="number">0</span>,[<span class="string">"yTile"</span>]=<span class="number">0</span>}
<span class="keyword">function</span> draw(device)
	<span class="keyword">if</span>(clickAtMap.isClicked==<span class="keyword">true</span>)
	<span class="keyword">then</span>
		<span class="global">print</span>(<span class="global">tostring</span>(ImGui.IsMouseDown(ImGuiMouseButton.ImGuiMouseButton_Right))..<span class="string">"\n"</span>);
		<span class="global">print</span>(<span class="global">tostring</span>(ImGui.IsMouseDown(ImGuiMouseButton.ImGuiMouseButton_Left))..<span class="string">"\n"</span>);
		<span class="global">print</span>(<span class="global">tostring</span>(clickAtMap.xTile)..<span class="string">" "</span>..<span class="global">tostring</span>(clickAtMap.yTile));

		clickAtMap.isClicked=<span class="keyword">false</span>;
	<span class="keyword">end</span>
<span class="keyword">end</span>

<span class="keyword">function</span> onClickAtTile(x,y)
	clickAtMap.isClicked=<span class="keyword">true</span>;
	clickAtMap.xTile=x;
	clickAtMap.yTile=y;
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onCampaignMapLoaded"></a>
    <strong>onCampaignMapLoaded ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called after loading the campaign map
    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onCampaignMapLoaded()
<span class="comment">--something here
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onPluginLoad"></a>
    <strong>onPluginLoad ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called on plugin load (at game start)
    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--An example of using this event to perform actions at the beginning of a campaign once:
</span>
isCampaignLoadedFirstTime=<span class="keyword">false</span>;
<span class="keyword">function</span> onNewGameStart()
  isCampaignLoadedFirstTime=<span class="keyword">true</span>;
<span class="keyword">end</span>

<span class="keyword">function</span> onCampaignMapLoaded()
  <span class="keyword">if</span>(isCampaignLoadedFirstTime==<span class="keyword">false</span>)
	<span class="keyword">then</span>
	  <span class="keyword">do</span> <span class="keyword">return</span> <span class="keyword">end</span>
	<span class="keyword">end</span>


  <span class="comment">--here we do our stuff, what works only one time for each campaign
</span>  isCampaignLoadedFirstTime=<span class="keyword">false</span>;
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onCreateSaveFile"></a>
    <strong>onCreateSaveFile ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called on creating save file
    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onCreateSaveFile()
	<span class="keyword">local</span> savefiles, currentPath = {}, M2TWEOP.getPluginPath()
	savefiles[<span class="number">1</span>] = currentPath..<span class="string">"\\testSaveFile1.ourSave"</span>
	savefiles[<span class="number">2</span>] = currentPath..<span class="string">"\\testSaveFile2.ourSave"</span>

	file1 = <span class="global">io</span>.open(savefiles[<span class="number">1</span>], <span class="string">"w"</span>); file1:write(<span class="string">"This is save file 1!!!"</span>); file1:close()
	file2 = <span class="global">io</span>.open(savefiles[<span class="number">2</span>], <span class="string">"w"</span>); file2:write(<span class="string">"This is save file 2!!!"</span>); file2:close()

	<span class="keyword">return</span> savefiles
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onLoadSaveFile"></a>
    <strong>onLoadSaveFile ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called on loading save file
    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onLoadSaveFile(paths)
	lastSaveFiles={};
	<span class="keyword">for</span> key, value <span class="keyword">in</span> <span class="global">pairs</span>(paths) <span class="keyword">do</span>

	<span class="global">print</span>(key, <span class="string">" -- "</span>, value);

	lastSaveFiles[key]={};
	lastSaveFiles[key][<span class="number">1</span>]=value;
	lastSaveFiles[key][<span class="number">2</span>]=readFile(value);

	<span class="keyword">end</span>
<span class="keyword">end</span>


<span class="comment">--read file and return it`s content
</span><span class="keyword">local</span> <span class="keyword">function</span> readFile(path)
	<span class="keyword">local</span> file = <span class="global">io</span>.open(path, <span class="string">"r"</span>) ;
	<span class="keyword">if</span> (<span class="keyword">not</span> file) <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">nil</span> <span class="keyword">end</span>
	<span class="keyword">local</span> content = file:read <span class="string">"*a"</span>;
	file:close();
	<span class="keyword">return</span> content;
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onChangeTurnNum"></a>
    <strong>onChangeTurnNum (turnNumber)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called at start of new turn
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">turnNumber</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onChangeTurnNum(turnNum)
<span class="comment">--something here
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onSelectWorldpkgdesc"></a>
    <strong>onSelectWorldpkgdesc (selectedRecordName, selectedRecordGroup)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called on select worldpkgdesc for battlemap.  See https://wiki.twcenter.net/index.php?title=.worldpkgdesc<em>-</em>M2TW. M2TWEOP will ignore the return value if its group does not match the required group!
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">selectedRecordName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">selectedRecordGroup</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        newSelectedRecordName
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onSelectWorldpkgdesc(selectedRecord,selectedRecordGroup)
<span class="comment">--something here
</span>
	<span class="keyword">return</span> selectedRecord;
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onfortificationlevelS"></a>
    <strong>onfortificationlevelS (siegedSettlement)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called on select fortificationlevel in siege of settlement
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">siegedSettlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">int</span></span>
        overridedFortificationlevel</li>
        <li>
           <span class="types"><span class="type">bool</span></span>
        isCastle override settlement type (siege equipment is slightly different between cities and castles of the same level)</li>
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onfortificationlevelS(settlement)
	<span class="keyword">if</span> settlement.xCoord == <span class="number">10</span> <span class="keyword">and</span> settlement.yCoord == <span class="number">25</span> <span class="keyword">then</span>
		<span class="keyword">return</span> <span class="number">3</span>, <span class="keyword">false</span> <span class="comment">--override settlement under siege at these coordinates to level 3 city
</span>	<span class="keyword">end</span>
	<span class="keyword">return</span> <span class="keyword">nil</span> <span class="comment">--else, do not override
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onEndSiege"></a>
    <strong>onEndSiege (xCoord, yCoord)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called on the completion of the siege (in any way, with any outcome).
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>
         x coordinate of siege(settlement or fort)
        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>
         y coordinate of siege(settlement or fort)
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onEndSiege(x,y)
<span class="comment">--something here
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onStartSiege"></a>
    <strong>onStartSiege (xCoord, yCoord)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called on the starting of the siege (in any way, with any outcome).
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>
         x coordinate of siege(settlement or fort)
        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>
         y coordinate of siege(settlement or fort)
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onStartSiege(x,y)
<span class="comment">--something here
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onCharacterSelected"></a>
    <strong>onCharacterSelected (selectedChar)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    a character has been selected by any means (including through the UI)
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">selectedChar</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onCharacterSelected(selectedChar)
<span class="comment">--something here
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onPreFactionTurnStart"></a>
    <strong>onPreFactionTurnStart (faction)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called before faction turn start
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onPreFactionTurnStart(fac)
<span class="comment">--something here
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onFactionTurnStart"></a>
    <strong>onFactionTurnStart (faction)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called at faction turn start
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onFactionTurnStart(fac)
<span class="comment">--something here
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onFactionTurnEnd"></a>
    <strong>onFactionTurnEnd (faction)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called at faction turn end
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onFactionTurnEnd(fac)
<span class="comment">--something here
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onFactionNewCapital"></a>
    <strong>onFactionNewCapital (faction)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called after faction has new capital
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onFactionNewCapital(fac)
newCapital=fac.capital();
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onFactionWarDeclared"></a>
    <strong>onFactionWarDeclared (faction, targetFaction)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called after declaring war
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">targetFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onFactionWarDeclared(faction,targetFaction)
<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onFactionAllianceDeclared"></a>
    <strong>onFactionAllianceDeclared (faction, targetFaction)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called after declaring alliance
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">targetFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onFactionAllianceDeclared(faction,targetFaction)
<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onFactionTradeAgreementMade"></a>
    <strong>onFactionTradeAgreementMade (faction, targetFaction)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called after declaring trade agreement
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">targetFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onFactionTradeAgreementMade(faction,targetFaction)
<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onFactionBreakAlliance"></a>
    <strong>onFactionBreakAlliance (faction, targetFaction)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called after break alliance
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">targetFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onFactionBreakAlliance(faction,targetFaction)
<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onGiveMoney"></a>
    <strong>onGiveMoney (faction, targetFaction, amount)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called after giving money
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">targetFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">amount</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onGiveMoney(faction,targetFaction,amount)
<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onUpdateAttitude"></a>
    <strong>onUpdateAttitude (faction, targetFaction)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Called after update attitude
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">targetFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onUpdateAttitude(faction,targetFaction)
<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onDemeanour"></a>
    <strong>onDemeanour (faction, targetFaction, amount)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    A demeanour response has occured in diplomacy talks
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">faction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">targetFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">amount</span>
            <span class="types"><span class="type">float</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onDemeanour(faction,targetFaction,amount)
<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onGeneralAssaultsGeneral"></a>
    <strong>onGeneralAssaultsGeneral (attacker, defender)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    A general has attacked another general
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">attacker</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
        <li><span class="parameter">defender</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onGeneralAssaultsGeneral(attacker,defender)
<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onGeneralAssaultsResidence"></a>
    <strong>onGeneralAssaultsResidence (attacker, settlement, fort)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    An assault has taken place
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">attacker</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>
         nil if it is fort
        </li>
        <li><span class="parameter">fort</span>
            <span class="types"><a class="type" href="index.html#fortStruct">fortStruct</a></span>
         nil if it is settlement
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onGeneralAssaultsResidence(attacker,settlement,fort)
	<span class="keyword">if</span>(settlement~=<span class="keyword">nil</span>)
	<span class="keyword">then</span>
		-settlement
	<span class="keyword">else</span>
		-fort
	<span class="keyword">end</span>

<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onGeneralCaptureSettlement"></a>
    <strong>onGeneralCaptureSettlement (attacker, settlement)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Settlement captured
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">attacker</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onGeneralCaptureSettlement(attacker,settlement)
<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onGeneralCaptureResidence"></a>
    <strong>onGeneralCaptureResidence (attacker)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    A General has captured a residence(fort, watchtower, check it yourself)
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">attacker</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onGeneralCaptureResidence(attacker)
<span class="comment">--something
</span><span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onSiegeEquipmentCompleted"></a>
    <strong>onSiegeEquipmentCompleted (settlement, fort)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>
         nil if it is fort
        </li>
        <li><span class="parameter">fort</span>
            <span class="types"><a class="type" href="index.html#fortStruct">fortStruct</a></span>
         nil if it is settlement
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onPostBattle"></a>
    <strong>onPostBattle (character)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">character</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onMultiTurnMove"></a>
    <strong>onMultiTurnMove (character)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">character</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onSettlementSelected"></a>
    <strong>onSettlementSelected (settlement)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    a settlement has been selected by any means (including through the UI)
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onSettlementSelected(settlement)
	<span class="global">print</span>(<span class="string">"Function: onSettlementSelected()\n\tSettlement: "</span>..settlement.name)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onSettlementUpgraded"></a>
    <strong>onSettlementUpgraded (settlement)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    settlement level increased
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onSettlementUpgraded(settlement)
	<span class="global">print</span>(<span class="string">"Function: onSettlementUpgraded()\n\tSettlement Level: "</span>..settlement.level)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onSettlementConverted"></a>
    <strong>onSettlementConverted (settlement)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    settlement converted between city and castle
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onSettlementConverted(settlement)
	<span class="keyword">if</span> settlement.isCastle == <span class="number">1</span> <span class="keyword">then</span>
		<span class="comment">--do stuff
</span>	<span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onCityRiots"></a>
    <strong>onCityRiots (settlement)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onUngarrisonedSettlement"></a>
    <strong>onUngarrisonedSettlement (settlement)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    the last unit has been removed from a settlement, agents do not count
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onUngarrisonedFort"></a>
    <strong>onUngarrisonedFort (fort)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    the last unit has been removed from a fort, agents do not count
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fort</span>
            <span class="types"><a class="type" href="index.html#fortStruct">fortStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onGiveSettlement"></a>
    <strong>onGiveSettlement (settlement, fac1, fac2)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">fac1</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">fac2</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onOccupySettlement"></a>
    <strong>onOccupySettlement (character, targetFaction)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    general has captured a settlement and the occupy option has been accepted
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">character</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>
         only generals, event does not fire for captains
        </li>
        <li><span class="parameter">targetFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onExterminatePopulation"></a>
    <strong>onExterminatePopulation (character, targetFaction)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    general has captured a settlement and the exterminate option has been accepted
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">character</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>
         only generals, event does not fire for captains
        </li>
        <li><span class="parameter">targetFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onSackSettlement"></a>
    <strong>onSackSettlement (character, targetFaction)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    general has captured a settlement and the sack option has been accepted
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">character</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>
         only generals, event does not fire for captains
        </li>
        <li><span class="parameter">targetFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onAddedToBuildingQueue"></a>
    <strong>onAddedToBuildingQueue (settlement, buildNme)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">buildNme</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         level name
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onBuildingDestroyed"></a>
    <strong>onBuildingDestroyed (settlement, buildNme)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">buildNme</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         level name
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onBuildingCompleted"></a>
    <strong>onBuildingCompleted (fac, settlement)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">settlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onEventCounter"></a>
    <strong>onEventCounter (counter)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">counter</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onFactionExcommunicated"></a>
    <strong>onFactionExcommunicated (fac)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onDisaster"></a>
    <strong>onDisaster (eventType)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">eventType</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onHordeFormed"></a>
    <strong>onHordeFormed (fac)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onAddedToTrainingQueue"></a>
    <strong>onAddedToTrainingQueue (sett, unitName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">sett</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">unitName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onUnitDisbanded"></a>
    <strong>onUnitDisbanded (fac, unit)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">unit</span>
            <span class="types"><a class="type" href="index.html#unit">unit</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onUnitTrained"></a>
    <strong>onUnitTrained (fac, sett, unit)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">sett</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">unit</span>
            <span class="types"><a class="type" href="index.html#unit">unit</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onAgentCreated"></a>
    <strong>onAgentCreated (character, agentType, sett)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">character</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
        <li><span class="parameter">agentType</span>
            <span class="types"><span class="type">int</span></span>
         see <a href="index.html#character:setTypeID">character:setTypeID</a> for list of type integers
        </li>
        <li><span class="parameter">sett</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onObjSeen"></a>
    <strong>onObjSeen (fac, targetFac, xCoord, yCoord)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>
         faction that saw the object
        </li>
        <li><span class="parameter">targetFac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>
         faction that owns the object
        </li>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onTileSeen"></a>
    <strong>onTileSeen (fac, xCoord, yCoord)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onGameReloaded"></a>
    <strong>onGameReloaded (something)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">something</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onTransgression"></a>
    <strong>onTransgression (fac, description, targetFac)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">description</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
        <li><span class="parameter">targetFac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onPopeAcceptsCrusadeTarget"></a>
    <strong>onPopeAcceptsCrusadeTarget (crusade, target)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">crusade</span>
            <span class="types"><span class="type">crusadeStruct</span></span>



        </li>
        <li><span class="parameter">target</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onCrusadeCalled"></a>
    <strong>onCrusadeCalled (crusade, target)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">crusade</span>
            <span class="types"><span class="type">crusadeStruct</span></span>



        </li>
        <li><span class="parameter">target</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onCrusadeEnds"></a>
    <strong>onCrusadeEnds (crusade, target)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">crusade</span>
            <span class="types"><span class="type">crusadeStruct</span></span>



        </li>
        <li><span class="parameter">target</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onPopeRejectsCrusadeTarget"></a>
    <strong>onPopeRejectsCrusadeTarget (crusade, target)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">crusade</span>
            <span class="types"><span class="type">crusadeStruct</span></span>



        </li>
        <li><span class="parameter">target</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onArmyTakesCrusadeTarget"></a>
    <strong>onArmyTakesCrusadeTarget (crusade, target, army)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">crusade</span>
            <span class="types"><span class="type">crusadeStruct</span></span>



        </li>
        <li><span class="parameter">target</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">army</span>
            <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onUnitsDesertCrusade"></a>
    <strong>onUnitsDesertCrusade (crusade, target, fac)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">crusade</span>
            <span class="types"><span class="type">crusadeStruct</span></span>



        </li>
        <li><span class="parameter">target</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onPopeElected"></a>
    <strong>onPopeElected (fac, fac2)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">fac2</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onVotedForPope"></a>
    <strong>onVotedForPope (fac)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onAssassinCaughtAttackingPope"></a>
    <strong>onAssassinCaughtAttackingPope (fac)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onInquisitorAppointed"></a>
    <strong>onInquisitorAppointed (fac, sett)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">sett</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onSettlementPanelOpen"></a>
    <strong>onSettlementPanelOpen (sett)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">sett</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onFinancesPanelOpen"></a>
    <strong>onFinancesPanelOpen (fac)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onFactionSummaryPanelOpen"></a>
    <strong>onFactionSummaryPanelOpen (fac)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onFamilyTreePanelOpenFunc"></a>
    <strong>onFamilyTreePanelOpenFunc (fac)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onDiplomaticStandingPanelOpen"></a>
    <strong>onDiplomaticStandingPanelOpen (fac)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onDiplomacyPanelOpen"></a>
    <strong>onDiplomacyPanelOpen (fac)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onPreBattlePanelOpen"></a>
    <strong>onPreBattlePanelOpen (fac)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onNavalAutoResolvePanelOpen"></a>
    <strong>onNavalAutoResolvePanelOpen ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onCharacterPanelOpen"></a>
    <strong>onCharacterPanelOpen (selectedChar)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">selectedChar</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onTradePanelOpen"></a>
    <strong>onTradePanelOpen (sett)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">sett</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onRequestBuildingAdvice"></a>
    <strong>onRequestBuildingAdvice (sett)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">sett</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onRequestTrainingAdvice"></a>
    <strong>onRequestTrainingAdvice (sett, recommendedUnitEntry)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">sett</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">recommendedUnitEntry</span>
            <span class="types"><a class="type" href="index.html#eduEntry">eduEntry</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onMessageOpen"></a>
    <strong>onMessageOpen (fac, msgType)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">msgType</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onIncomingMessage"></a>
    <strong>onIncomingMessage (fac, msgType)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fac</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">msgType</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onMessageClosed"></a>
    <strong>onMessageClosed (msgType)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">msgType</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onButtonPressed"></a>
    <strong>onButtonPressed (buttonName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">buttonName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onScrollClosed"></a>
    <strong>onScrollClosed (scrollName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">scrollName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onScrollOpened"></a>
    <strong>onScrollOpened (scrollName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">scrollName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onUIElementVisible"></a>
    <strong>onUIElementVisible (elementName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">elementName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onScrollAdviceRequested"></a>
    <strong>onScrollAdviceRequested (scrollName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">scrollName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onSettlementScrollAdviceRequested"></a>
    <strong>onSettlementScrollAdviceRequested (sett, scrollName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">sett</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">scrollName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onPreBattleScrollAdviceRequested"></a>
    <strong>onPreBattleScrollAdviceRequested ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onNavalPreBattleScrollAdviceRequested"></a>
    <strong>onNavalPreBattleScrollAdviceRequested ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>





    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onCollegeOfCardinalsPanelOpen"></a>
    <strong>onCollegeOfCardinalsPanelOpen (college)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">college</span>
            <span class="types"><span class="type">collegeCardinalsStruct</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--something</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onGuildUpgraded"></a>
    <strong>onGuildUpgraded (sett, guildName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">sett</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">guildName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onGuildUpgraded(sett, guildName)
	<span class="global">print</span>(<span class="string">"Function: onGuildUpgraded()\n\tSettlement: "</span>..sett.name..<span class="string">"\n\tGuild: "</span>..guildName)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onGuildDestroyed"></a>
    <strong>onGuildDestroyed (sett, guildID)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">sett</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">guildID</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onGuildDestroyed(sett, guildID)
	<span class="global">print</span>(<span class="string">"Function: onGuildDestroyed()\n\tSettlement: "</span>..sett.name..<span class="string">"\n\tID: "</span>..guildID)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onBrotherAdopted"></a>
    <strong>onBrotherAdopted (character)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    a character in the family tree has received a brother by adoption
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">character</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>
         this is the original child, not the newly adopted character
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onBrotherAdopted(character)
	<span class="global">print</span>(<span class="string">"Function: onBrotherAdopted()\n\tName: "</span>..character.fullName..<span class="string">"\n\tParent: "</span>..character.parent.fullName..<span class="string">"\n\tFaction: "</span>..character.faction:getFactionName())
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onBirth"></a>
    <strong>onBirth (child)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    a child has been born
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">child</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onBirth(child)
	<span class="global">print</span>(<span class="string">"Function: onBirth()\n\tChild Name: "</span>..child.fullName..<span class="string">"\n\tParent: "</span>..child.parent.fullName..<span class="string">"\n\tFaction: "</span>..child.faction:getFactionName())
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onCharacterComesOfAge"></a>
    <strong>onCharacterComesOfAge (character)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    a character has come of age
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">character</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>
         character's age is equal to age_of_manhood in descr_campaign_db.xml
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onCharacterComesOfAge(character)
	<span class="global">print</span>(<span class="string">"Function: onCharacterComesOfAge()\n\tName: "</span>..character.fullName..<span class="string">"\n\tParent: "</span>..character.parent.fullName..<span class="string">"\n\tFaction: "</span>..character.faction:getFactionName())
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onCharacterMarries"></a>
    <strong>onCharacterMarries (husband)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    a character has married (someone who isn't a princess)
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">husband</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onCharacterMarries(husband)
	<span class="global">print</span>(<span class="string">"Function: onCharacterMarries()\n\tName: "</span>..husband.fullName..<span class="string">"\n\tSpouse: "</span>..husband.spouse.fullName..<span class="string">"\n\tFaction: "</span>..husband.faction:getFactionName())
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onCharacterMarriesPrincess"></a>
    <strong>onCharacterMarriesPrincess (husband)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    a character has married a princess agent
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">husband</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onCharacterMarriesPrincess(husband)
	<span class="global">print</span>(<span class="string">"Function: onCharacterMarriesPrincess()\n\tName: "</span>..husband.fullName..<span class="string">"\n\tSpouse: "</span>..husband.spouse.fullName..<span class="string">"\n\tFaction: "</span>..husband.faction:getFactionName())
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onCharacterBecomesAFather"></a>
    <strong>onCharacterBecomesAFather (father)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    a child has been born
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">father</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>
         note: this event fires for all child births for this father, not just the first one
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onCharacterBecomesAFather(father)
	<span class="keyword">local</span> i, children = <span class="number">1</span>, <span class="string">""</span>
	<span class="keyword">while</span> father.childs[i] ~= <span class="keyword">nil</span> <span class="keyword">do</span>
		children, i = children..<span class="string">" "</span>..father.childs[i].fullName..<span class="string">","</span>, i + <span class="number">1</span>
	<span class="keyword">end</span>
	children = children:gsub(<span class="string">",$"</span>, <span class="string">""</span>)
	<span class="global">print</span>(<span class="string">"Function: onCharacterBecomesAFather()\n\tName: "</span>..father.fullName..<span class="string">"\n\tChildren:"</span>..children..<span class="string">"\n\tFaction: "</span>..father.faction:getFactionName())
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onNewAdmiralCreated"></a>
    <strong>onNewAdmiralCreated (admiral, sett)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">admiral</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
        <li><span class="parameter">sett</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onNewAdmiralCreated(admiral, sett)
	<span class="global">print</span>(<span class="string">"Function: onNewAdmiralCreated()\n\tAdmiral: "</span>..admiral.fullName..<span class="string">"\n\tSettlement: "</span>..sett.name)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onShortcutTriggered"></a>
    <strong>onShortcutTriggered (shortcut)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    a shortcut has been used
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">shortcut</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onShortcutTriggered(shortcut)
	<span class="keyword">if</span> shortcut == <span class="string">"strat_ui::mission_button"</span> <span class="keyword">then</span>
		<span class="comment">--do stuff
</span>	<span class="keyword">end</span>
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onBecomesFactionLeader"></a>
    <strong>onBecomesFactionLeader (leader)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">leader</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onBecomesFactionLeader(leader)
	<span class="global">print</span>(<span class="string">"Function: onBecomesFactionLeader()\n\tLeader: "</span>..leader.fullName)
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "onBecomesFactionHeir"></a>
    <strong>onBecomesFactionHeir (heir)</strong>
    </dt>
    <dd>
    <div class="functionDescription">



    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">heir</span>
            <span class="types"><a class="type" href="index.html#namedCharacter">namedCharacter</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onBecomesFactionHeir(heir)
	<span class="global">print</span>(<span class="string">"Function: onBecomesFactionHeir()\n\tHeir: "</span>..heir.fullName)
<span class="keyword">end</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="M2TWEOPDU"></a>M2TWEOPDU </h2>

    <dl class="function">
    <dt>
    <a name = "M2TWEOPDU"></a>
    <strong>M2TWEOPDU</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic M2TWEOPDU table.  Contains descriptions of m2tweop unit types.
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">addEopEduEntryFromFile</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPDU.addEopEduEntryFromFile">addEopEduEntryFromFile</a></span>



        </li>
        <li><span class="parameter">addEopEduEntryFromEDUID</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPDU.addEopEduEntryFromEDUID">addEopEduEntryFromEDUID</a></span>



        </li>
        <li><span class="parameter">getEopEduEntryByID</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPDU.getEopEduEntryByID">getEopEduEntryByID</a></span>
         Needed for change many parameters of entry.
        </li>
        <li><span class="parameter">getDataEopDu</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPDU.getDataEopDu">getDataEopDu</a></span>



        </li>
        <li><span class="parameter">setEntryUnitCardTga</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPDU.setEntryUnitCardTga">setEntryUnitCardTga</a></span>



        </li>
        <li><span class="parameter">setEntryInfoCardTga</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPDU.setEntryInfoCardTga">setEntryInfoCardTga</a></span>



        </li>
        <li><span class="parameter">setEntrySoldierModel</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPDU.setEntrySoldierModel">setEntrySoldierModel</a></span>



        </li>
        <li><span class="parameter">setEntryLocalizedName</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPDU.setEntryLocalizedName">setEntryLocalizedName</a></span>



        </li>
        <li><span class="parameter">setEntryLocalizedDescr</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPDU.setEntryLocalizedDescr">setEntryLocalizedDescr</a></span>



        </li>
        <li><span class="parameter">setEntryLocalizedShortDescr</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPDU.setEntryLocalizedShortDescr">setEntryLocalizedShortDescr</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "M2TWEOPDU.addEopEduEntryFromFile"></a>
    <strong>M2TWEOPDU.addEopEduEntryFromFile (filepath, eopEnryIndex)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Create new M2TWEOPDU entry from type description
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filepath</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         path to file with unit type description(like in export<em>descr</em>unit.txt, but only with one record and without comments)
        </li>
        <li><span class="parameter">eopEnryIndex</span>
            <span class="types"><span class="type">int</span></span>
         Entry index, which will be assigned to a new record in DU (recommend starting from 1000, so that there is no confusion with records from EDU).
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#eduEntry">eduEntry</a></span>
        retEntry Usually you shouldn't use this value.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOPDU.addEopEduEntryFromFile(M2TWEOP.getModPath()..<span class="string">"/youneuoy_Data/unitTypes/myTestType.txt"</span>,<span class="number">1000</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPDU.addEopEduEntryFromEDUID"></a>
    <strong>M2TWEOPDU.addEopEduEntryFromEDUID (baseEnryIndex, eopEnryIndex)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Create new M2TWEOPDU entry
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">baseEnryIndex</span>
            <span class="types"><span class="type">int</span></span>
         Entry index number, which will be taken as the base for this DU record.
        </li>
        <li><span class="parameter">eopEnryIndex</span>
            <span class="types"><span class="type">int</span></span>
         Entry index, which will be assigned to a new record in DU (recommend starting from 1000, so that there is no confusion with records from EDU).
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#eduEntry">eduEntry</a></span>
        retEntry Usually you shouldn't use this value.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOPDU.addEopEduEntryFromEDUID(<span class="number">1</span>,<span class="number">1000</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPDU.getEopEduEntryByID"></a>
    <strong>M2TWEOPDU.getEopEduEntryByID (eopEnryIndex)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get eduEntry of M2TWEOPDU entry.  Needed for change many parameters of entry.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">eopEnryIndex</span>
            <span class="types"><span class="type">int</span></span>
         Entry index
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#eduEntry">eduEntry</a></span>
        retEntry
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> eduEntryOfEOPDU=M2TWEOPDU.getEopEduEntryByID(<span class="number">1000</span>);
eduEntryOfEOPDU.SoldierCount=<span class="number">20</span>;
eduEntryOfEOPDU.Width=<span class="number">1.5</span>;</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPDU.getDataEopDu"></a>
    <strong>M2TWEOPDU.getDataEopDu (eopEnryIndex)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get data of M2TWEOPDU entry.  You usually won't need this.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">eopEnryIndex</span>
            <span class="types"><span class="type">int</span></span>
         Entry index
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">eopDuEntry</span></span>
        retEntry Usually you shouldn't use this value.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> eopDUEntry=M2TWEOPDU.getDataEopDu(<span class="number">1000</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPDU.setEntryUnitCardTga"></a>
    <strong>M2TWEOPDU.setEntryUnitCardTga (eopEnryIndex, newCardTga)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set unit card for M2TWEOPDU entry.  Requirements for the location and parameters of the image are unchanged in relation to the game.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">eopEnryIndex</span>
            <span class="types"><span class="type">int</span></span>
         Entry index
        </li>
        <li><span class="parameter">newCardTga</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOPDU.setEntryUnitCardTga(<span class="number">1000</span>,<span class="string">"#akavir_swordsmen.tga"</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPDU.setEntryInfoCardTga"></a>
    <strong>M2TWEOPDU.setEntryInfoCardTga (eopEnryIndex, newInfoCardTga)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set unit info card for M2TWEOPDU entry.  Requirements for the location and parameters of the image are unchanged in relation to the game.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">eopEnryIndex</span>
            <span class="types"><span class="type">int</span></span>
         Entry index
        </li>
        <li><span class="parameter">newInfoCardTga</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOPDU.setEntryInfoCardTga(<span class="number">1000</span>,<span class="string">"akavir_swordsmen_info.tga"</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPDU.setEntrySoldierModel"></a>
    <strong>M2TWEOPDU.setEntrySoldierModel (eopEnryIndex, newSoldierModel)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set soldier model for M2TWEOPDU entry.  The required entry must be correctly recorded in game files.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">eopEnryIndex</span>
            <span class="types"><span class="type">int</span></span>
         Entry index
        </li>
        <li><span class="parameter">newSoldierModel</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOPDU.setEntrySoldierModel(<span class="number">1000</span>,<span class="string">"Sword_and_Buckler_Men"</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPDU.setEntryLocalizedName"></a>
    <strong>M2TWEOPDU.setEntryLocalizedName (eopEnryIndex, newLocalizedName)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set localized name for M2TWEOPDU entry.  This does not require any entries in the text folder.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">eopEnryIndex</span>
            <span class="types"><span class="type">int</span></span>
         Entry index
        </li>
        <li><span class="parameter">newLocalizedName</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOPDU.setEntryLocalizedName(<span class="number">1000</span>,<span class="string">"Test unit"</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPDU.setEntryLocalizedDescr"></a>
    <strong>M2TWEOPDU.setEntryLocalizedDescr (eopEnryIndex, newLocalizedDescr)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set localized description for M2TWEOPDU entry.  This does not require any entries in the text folder.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">eopEnryIndex</span>
            <span class="types"><span class="type">int</span></span>
         Entry index
        </li>
        <li><span class="parameter">newLocalizedDescr</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOPDU.setEntryLocalizedDescr(<span class="number">1000</span>,<span class="string">"This is test unit description\n123321\nCreated with m2tweop"</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPDU.setEntryLocalizedShortDescr"></a>
    <strong>M2TWEOPDU.setEntryLocalizedShortDescr (eopEnryIndex, newLocalizedShortDescr)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set localized short description for M2TWEOPDU entry.  This does not require any entries in the text folder.
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">eopEnryIndex</span>
            <span class="types"><span class="type">int</span></span>
         Entry index
        </li>
        <li><span class="parameter">newLocalizedShortDescr</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOPDU.setEntryLocalizedShortDescr(<span class="number">1000</span>,<span class="string">"This is test unit short description\n123321\nCreated with m2tweop"</span>);</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Campaign_Enums"></a>Campaign Enums </h2>

    <dl class="function">
    <dt>
    <a name = "dipRelType"></a>
    <strong>dipRelType</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Enum with a list of types of diplomatic relations.
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">war</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">peace</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">alliance</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">suzerain</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">trade</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> campaign=gameDataAll.get().campaignStruct;
<span class="keyword">local</span> fac1=campaign.factionsSortedByDescrStrat[<span class="number">1</span>];
<span class="keyword">local</span> fac2=campaign.factionsSortedByDescrStrat[<span class="number">2</span>];
<span class="keyword">local</span> isInWar=campaign:checkDipStance(dipRelType.war,fac1,fac2);</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="Campaign"></a>Campaign </h2>

    <dl class="function">
    <dt>
    <a name = "gameDataAll.campaignStruct"></a>
    <strong>gameDataAll.campaignStruct</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic campaign table.
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">factionsSortedByDescrStrat</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct[31]</a></span>
         indexing starts at 1
        </li>
        <li><span class="parameter">numberOfFactions</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">numberHumanFactions</span>
            <span class="types"><span class="type">int</span></span>
         number of player-controlled factions
        </li>
        <li><span class="parameter">currentFaction</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>
         faction whose turn is at the moment, can be set
        </li>
        <li><span class="parameter">passedTurnsNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">timescale</span>
            <span class="types"><span class="type">float</span></span>
         factor for number turns per year, see descr_strat.txt
        </li>
        <li><span class="parameter">romeSettlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">constantinopleSettlement</span>
            <span class="types"><a class="type" href="index.html#settlementStruct">settlementStruct</a></span>



        </li>
        <li><span class="parameter">BrigandSpawnValue</span>
            <span class="types"><span class="type">float</span></span>
         lower values increase spawn rate
        </li>
        <li><span class="parameter">PirateSpawnValue</span>
            <span class="types"><span class="type">float</span></span>
         lower values increase spawn rate
        </li>
        <li><span class="parameter">FreeUpkeepForts</span>
            <span class="types"><span class="type">int</span></span>
         number units with free<em>upkeep</em>unit EDU attribute who can get free upkeep in forts
        </li>
        <li><span class="parameter">currentDate</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">currentseason</span>
            <span class="types"><span class="type">int</span></span>
         season (0=summer, 1=winter)
        </li>
        <li><span class="parameter">startDate</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">startSeason</span>
            <span class="types"><span class="type">int</span></span>
         season (0=summer, 1=winter)
        </li>
        <li><span class="parameter">endDate</span>
            <span class="types"><span class="type">float</span></span>



        </li>
        <li><span class="parameter">endSeason</span>
            <span class="types"><span class="type">int</span></span>
         season (0=summer, 1=winter)
        </li>
        <li><span class="parameter">daysInBattle</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">currentTimeInBattle</span>
            <span class="types"><span class="type">float</span></span>
         24 max, so calc as daysInBattle*24+currentTimeInBattle
        </li>
        <li><span class="parameter">checkDipStance</span>
            <span class="types"><a class="type" href="index.html#campaignStruct:checkDipStance">checkDipStance</a></span>



        </li>
        <li><span class="parameter">setDipStance</span>
            <span class="types"><a class="type" href="index.html#campaignStruct:setDipStance">setDipStance</a></span>



        </li>
        <li><span class="parameter">GetUnitSize</span>
            <span class="types"><a class="type" href="index.html#campaignStruct:GetUnitSize">GetUnitSize</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "campaignStruct:checkDipStance"></a>
    <strong>campaignStruct:checkDipStance (checkType, fac1, fac2)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Check diplomatic relations between factions
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">checkType</span>
            <span class="types"><a class="type" href="index.html#dipRelType">dipRelType</a></span>



        </li>
        <li><span class="parameter">fac1</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">fac2</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        checkResult
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> campaign=gameDataAll.get().campaignStruct;
<span class="keyword">local</span> fac1=campaign.factionsSortedByDescrStrat[<span class="number">1</span>];
<span class="keyword">local</span> fac2=campaign.factionsSortedByDescrStrat[<span class="number">2</span>];
<span class="keyword">local</span> isInWar=campaign:checkDipStance(dipRelType.war,fac1,fac2);</pre>
    </ul>

</dd>
    <dt>
    <a name = "campaignStruct:setDipStance"></a>
    <strong>campaignStruct:setDipStance (relType, fac1, fac2)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set diplomatic relations between factions
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">relType</span>
            <span class="types"><a class="type" href="index.html#dipRelType">dipRelType</a></span>



        </li>
        <li><span class="parameter">fac1</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
        <li><span class="parameter">fac2</span>
            <span class="types"><a class="type" href="index.html#factionStruct">factionStruct</a></span>



        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> campaign=gameDataAll.get().campaignStruct;
<span class="keyword">local</span> fac1=campaign.factionsSortedByDescrStrat[<span class="number">1</span>];
<span class="keyword">local</span> fac2=campaign.factionsSortedByDescrStrat[<span class="number">2</span>];
campaign:setDipStance(dipRelType.war,fac1,fac2);</pre>
    </ul>

</dd>
    <dt>
    <a name = "campaignStruct:GetUnitSize"></a>
    <strong>campaignStruct:GetUnitSize ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get size of unit(i.e.  small or medium, etc). Numbers from 0 to 3
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        unitSize
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> campaign=gameDataAll.get().campaignStruct;
<span class="keyword">local</span> unitSize=campaign:GetUnitSize();</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="gameDataAll"></a>gameDataAll </h2>

    <dl class="function">
    <dt>
    <a name = "gameDataAll"></a>
    <strong>gameDataAll</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic gameDataAll table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">get</span>
            <span class="types"><a class="type" href="index.html#gameDataAll.get">get</a></span>



        </li>
        <li><span class="parameter">battleStruct</span>
            <span class="types"><a class="type" href="index.html#gameDataAll.battleStruct">battleStruct</a></span>
         battle data
        </li>
        <li><span class="parameter">campaignStruct</span>
            <span class="types"><a class="type" href="index.html#gameDataAll.campaignStruct">campaignStruct</a></span>
         campaign data
        </li>
    </ul>





</dd>
    <dt>
    <a name = "gameDataAll.get"></a>
    <strong>gameDataAll.get ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Call at start of script, this is a static object and pointer to it doesn't change
    </div>


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">gameDataAllStruct</span></span>
        gameDataAll
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">gameData=gameDataAll.get();
battleXCoord=gameData.battleStruct.xCoord;</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="battleStruct"></a>battleStruct </h2>

    <dl class="function">
    <dt>
    <a name = "gameDataAll.battleStruct"></a>
    <strong>gameDataAll.battleStruct</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    basic battleStruct table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">xCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">yCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">attackerXCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">attackerYCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">defenderXCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">defenderYCoord</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">sidesNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">sides</span>
            <span class="types"><a class="type" href="index.html#battleStruct.battleSide">battleSide[8]</a></span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="battleSide"></a>battleSide </h2>

    <dl class="function">
    <dt>
    <a name = "battleStruct.battleSide"></a>
    <strong>battleStruct.battleSide</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    basic battleSide table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">isDefender</span>
            <span class="types"><span class="type">bool</span></span>



        </li>
        <li><span class="parameter">isCanDeploy</span>
            <span class="types"><span class="type">bool</span></span>



        </li>
        <li><span class="parameter">winConditions</span>
            <span class="types"><span class="type">int[4]</span></span>



        </li>
        <li><span class="parameter">getWinConditionString</span>
            <span class="types"><a class="type" href="index.html#battleSide.getWinConditionString">getWinConditionString</a></span>



        </li>
        <li><span class="parameter">armiesNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">armies</span>
            <span class="types"><a class="type" href="index.html#battleSide.trackedPointerArmy">trackedPointerArmy[8]</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "battleSide.getWinConditionString"></a>
    <strong>battleSide.getWinConditionString (condition)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get win condition string, for example: destroy_or_rout_enemy
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">condition</span>
            <span class="types"><span class="type">int</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        winCondition destroy_or_rout_enemy, balance_of_strength_percent, destroy_enemy_strength_percent, capture_location, destroy_character, capture_major_settlement, capture_army_settlement, unknown_condition
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">function</span> onPostBattle(character)
	getBattleData()
<span class="keyword">end</span>

<span class="keyword">function</span> getBattleData()
	<span class="keyword">local</span> thisBattle, battleList = gameData.battleStruct, <span class="string">"Function: getBattleData()"</span>
	<span class="keyword">for</span> i = <span class="number">1</span>, thisBattle.sidesNum, <span class="number">1</span> <span class="keyword">do</span>
		<span class="keyword">local</span> thisSide = thisBattle.sides[i]
		battleList = battleList..<span class="string">"\n\tSide "</span>..i..<span class="string">"\n\t\tisDefender: "</span>..<span class="global">tostring</span>(thisSide.isDefender)..<span class="string">"\n\t\tisCanDeploy: "</span>..<span class="global">tostring</span>(thisSide.isCanDeploy)..<span class="string">"\n\t\tarmiesNum: "</span>..thisSide.armiesNum..<span class="string">"\n\t\twinConditions:"</span>
		<span class="keyword">for</span> j = <span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span> <span class="keyword">do</span>
			<span class="keyword">local</span> thisWinCond = thisSide.winConditions[j]
			<span class="keyword">if</span> thisWinCond ~= <span class="number">0</span> <span class="keyword">then</span>
				battleList = battleList..<span class="string">"\n\t\t\t"</span>..thisSide.getWinConditionString(thisWinCond)
			<span class="keyword">end</span>
		<span class="keyword">end</span>
		<span class="keyword">if</span> thisSide.armies[<span class="number">1</span>] ~= <span class="keyword">nil</span> <span class="keyword">then</span>
			<span class="keyword">local</span> k = <span class="number">1</span>
			<span class="keyword">repeat</span>
				<span class="keyword">local</span> thisArmy = thisSide.armies[k].army
				<span class="keyword">if</span> thisArmy ~= <span class="keyword">nil</span> <span class="keyword">then</span>
					battleList = battleList..<span class="string">"\n\t\tArmy "</span>..k..<span class="string">"\n\t\t\tFaction: "</span>..thisArmy.faction:getFactionName()
					<span class="keyword">if</span> thisArmy.leader ~= <span class="keyword">nil</span> <span class="keyword">then</span>
						battleList = battleList..<span class="string">"\n\t\t\tLeader: "</span>..thisArmy.leader.namedCharacter.fullName
					<span class="keyword">end</span>
				<span class="keyword">end</span>
				k = k + <span class="number">1</span>
			<span class="keyword">until</span> thisSide.armies[k] == <span class="keyword">nil</span>
		<span class="keyword">end</span>
	<span class="keyword">end</span>
	<span class="global">print</span>(battleList)
<span class="keyword">end</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="trackedPointerArmy"></a>trackedPointerArmy </h2>

    <dl class="function">
    <dt>
    <a name = "battleSide.trackedPointerArmy"></a>
    <strong>battleSide.trackedPointerArmy</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    basic trackedPointerArmy table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">army</span>
            <span class="types"><a class="type" href="index.html#stackStruct">stackStruct</a></span>



        </li>
        <li><span class="parameter">deploymentArea</span>
            <span class="types"><a class="type" href="index.html#trackedPointerArmy.deploymentAreaS">deploymentAreaS</a></span>



        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="deploymentAreaS"></a>deploymentAreaS </h2>

    <dl class="function">
    <dt>
    <a name = "trackedPointerArmy.deploymentAreaS"></a>
    <strong>trackedPointerArmy.deploymentAreaS</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    basic trackedPointerArmy table
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">coordsNum</span>
            <span class="types"><span class="type">int</span></span>



        </li>
        <li><span class="parameter">getCoordPair</span>
            <span class="types"><a class="type" href="index.html#deploymentAreaS:getCoordPair">getCoordPair</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "deploymentAreaS:getCoordPair"></a>
    <strong>deploymentAreaS:getCoordPair ()</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get pair of coords with number
    </div>


    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">float</span></span>
        xCoord x coordinate of area</li>
        <li>
           <span class="types"><span class="type">float</span></span>
        yCoord y coordinate of area</li>
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">gameData=gameDataAll.get();
battleS=gameData.battleStruct;
side1=gameData.battleStruct.sides[<span class="number">1</span>];
deployArea1=side1.armies[<span class="number">1</span>].deploymentArea;

<span class="keyword">for</span> i = <span class="number">0</span>, deployArea1.coordsNum-<span class="number">1</span> <span class="keyword">do</span>
	xCoord,yCoord=side1.armies[<span class="number">1</span>].deploymentArea:getCoordPair(i);
	<span class="global">print</span>(xCoord,yCoord);
<span class="keyword">end</span></pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="M2TWEOPFBX"></a>M2TWEOPFBX </h2>

    <dl class="function">
    <dt>
    <a name = "M2TWEOPFBX"></a>
    <strong>M2TWEOPFBX</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Basic M2TWEOPFBX table.  Contains descriptions of m2tweop fbx feathures.
    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">addFbxModel</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.addFbxModel">addFbxModel</a></span>



        </li>
        <li><span class="parameter">deleteFbxModel</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.deleteFbxModel">deleteFbxModel</a></span>



        </li>
        <li><span class="parameter">getFbxModel</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.getFbxModel">getFbxModel</a></span>



        </li>
        <li><span class="parameter">addFbxObject</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.addFbxObject">addFbxObject</a></span>



        </li>
        <li><span class="parameter">deleteFbxObject</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.deleteFbxObject">deleteFbxObject</a></span>



        </li>
        <li><span class="parameter">getFbxObject</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.getFbxObject">getFbxObject</a></span>



        </li>
        <li><span class="parameter">setFbxObjectCoords</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.setFbxObjectCoords">setFbxObjectCoords</a></span>



        </li>
        <li><span class="parameter">getFbxObjectCoords</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.getFbxObjectCoords">getFbxObjectCoords</a></span>



        </li>
        <li><span class="parameter">setFbxObjectSize</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.setFbxObjectSize">setFbxObjectSize</a></span>



        </li>
        <li><span class="parameter">getFbxObjectSize</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.getFbxObjectSize">getFbxObjectSize</a></span>



        </li>
        <li><span class="parameter">setFbxObjectDrawState</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.setFbxObjectDrawState">setFbxObjectDrawState</a></span>



        </li>
        <li><span class="parameter">getFbxObjectDrawState</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.getFbxObjectDrawState">getFbxObjectDrawState</a></span>



        </li>
        <li><span class="parameter">setFbxObjectAnimState</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.setFbxObjectAnimState">setFbxObjectAnimState</a></span>



        </li>
        <li><span class="parameter">getFbxObjectAnimState</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.getFbxObjectAnimState">getFbxObjectAnimState</a></span>



        </li>
        <li><span class="parameter">setFbxObjectDrawType</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.setFbxObjectDrawType">setFbxObjectDrawType</a></span>



        </li>
        <li><span class="parameter">getFbxObjectDrawType</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPFBX.getFbxObjectDrawType">getFbxObjectDrawType</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "M2TWEOPFBX.addFbxModel"></a>
    <strong>M2TWEOPFBX.addFbxModel (modelPath, texturePath, modelID)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Load new fbx model
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">modelPath</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         path to .fbx file
        </li>
        <li><span class="parameter">texturePath</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         path to .dds file
        </li>
        <li><span class="parameter">modelID</span>
            <span class="types"><span class="type">int</span></span>
         id what be used for this model
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.deleteFbxModel"></a>
    <strong>M2TWEOPFBX.deleteFbxModel (modelID)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Delete fbx model
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">modelID</span>
            <span class="types"><span class="type">int</span></span>
         model id
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
M2TWEOPFBX.deleteFbxModel(<span class="number">1</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.getFbxModel"></a>
    <strong>M2TWEOPFBX.getFbxModel (modelID)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get fbx model
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">modelID</span>
            <span class="types"><span class="type">int</span></span>
         model id
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">fbxModel</span></span>
        fbx model, not it`s ID!
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.addFbxObject"></a>
    <strong>M2TWEOPFBX.addFbxObject (modelID, objectID)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Create new fbx object with model.  We can place object on map, etc
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">modelID</span>
            <span class="types"><span class="type">int</span></span>
         model id
        </li>
        <li><span class="parameter">objectID</span>
            <span class="types"><span class="type">int</span></span>
         id what be used for this object
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">fbxObject</span></span>
        fbx object, not it`s ID!
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span><span class="keyword">local</span> ourNewObject=M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.deleteFbxObject"></a>
    <strong>M2TWEOPFBX.deleteFbxObject (object)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Delete fbx object
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">object</span>
            <span class="types"><span class="type">fbxObject</span></span>
         fbx object, not it`s ID!
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span><span class="keyword">local</span> ourNewObject=M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);
M2TWEOPFBX.deleteFbxObject(ourNewObject);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.getFbxObject"></a>
    <strong>M2TWEOPFBX.getFbxObject (object)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get fbx object by id
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">object</span>
            <span class="types"><span class="type">fbxObject</span></span>
         fbx object, not it`s ID!
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">fbxObject</span></span>
        fbx object, not it`s ID!
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span>M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);
<span class="keyword">local</span> ourNewObject=M2TWEOPFBX.getFbxObject(<span class="number">2</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.setFbxObjectCoords"></a>
    <strong>M2TWEOPFBX.setFbxObjectCoords (fbx, x, y, z)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set fbx object coordinates
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fbx</span>
            <span class="types"><span class="type">fbxObject</span></span>
         object
        </li>
        <li><span class="parameter">x</span>
            <span class="types"><span class="type">float</span></span>
         coord
        </li>
        <li><span class="parameter">y</span>
            <span class="types"><span class="type">float</span></span>
         coord
        </li>
        <li><span class="parameter">z</span>
            <span class="types"><span class="type">float</span></span>
         coord
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span>M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);
<span class="keyword">local</span> ourNewObject=M2TWEOPFBX.getFbxObject(<span class="number">2</span>);
M2TWEOPFBX.setFbxObjectCoords(ourNewObject,<span class="number">1.2</span>,<span class="number">123.95</span>,<span class="number">1</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.getFbxObjectCoords"></a>
    <strong>M2TWEOPFBX.getFbxObjectCoords (fbx)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get fbx object coordinates
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fbx</span>
            <span class="types"><span class="type">fbxObject</span></span>
         object
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">float</span></span>
        x coord</li>
        <li>
           <span class="types"><span class="type">float</span></span>
        y coord</li>
        <li>
           <span class="types"><span class="type">float</span></span>
        z coord</li>
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span>M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);
<span class="keyword">local</span> ourNewObject=M2TWEOPFBX.getFbxObject(<span class="number">2</span>);
M2TWEOPFBX.setFbxObjectCoords(ourNewObject,<span class="number">1.2</span>,<span class="number">123.95</span>,<span class="number">1</span>);
<span class="keyword">local</span> x,y,z=M2TWEOPFBX.getFbxObjectCoords(ourNewObject);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.setFbxObjectSize"></a>
    <strong>M2TWEOPFBX.setFbxObjectSize (fbx, sizeModifier)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set fbx object size modifier
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fbx</span>
            <span class="types"><span class="type">fbxObject</span></span>
         object
        </li>
        <li><span class="parameter">sizeModifier</span>
            <span class="types"><span class="type">float</span></span>
         object size modifier
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span>M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);
<span class="keyword">local</span> ourNewObject=M2TWEOPFBX.getFbxObject(<span class="number">2</span>);
M2TWEOPFBX.setFbxObjectCoords(ourNewObject,<span class="number">1.2</span>,<span class="number">123.95</span>,<span class="number">1</span>);
<span class="keyword">local</span> x,y,z=M2TWEOPFBX.getFbxObjectCoords(ourNewObject);


M2TWEOPFBX.setFbxObjectSize(ourNewObject,<span class="number">25.2</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.getFbxObjectSize"></a>
    <strong>M2TWEOPFBX.getFbxObjectSize (fbx)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get fbx object size modifier
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fbx</span>
            <span class="types"><span class="type">fbxObject</span></span>
         object
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">float</span></span>
        sizeModifier object size modifier
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span>M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);
<span class="keyword">local</span> ourNewObject=M2TWEOPFBX.getFbxObject(<span class="number">2</span>);
M2TWEOPFBX.setFbxObjectCoords(ourNewObject,<span class="number">1.2</span>,<span class="number">123.95</span>,<span class="number">1</span>);
<span class="keyword">local</span> x,y,z=M2TWEOPFBX.getFbxObjectCoords(ourNewObject);


M2TWEOPFBX.setFbxObjectSize(ourNewObject,<span class="number">25.2</span>);
<span class="keyword">local</span> size=M2TWEOPFBX.getFbxObjectSize(ourNewObject);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.setFbxObjectDrawState"></a>
    <strong>M2TWEOPFBX.setFbxObjectDrawState (fbx, is)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set fbx object draw state
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fbx</span>
            <span class="types"><span class="type">fbxObject</span></span>
         object
        </li>
        <li><span class="parameter">is</span>
            <span class="types"><span class="type">bool</span></span>
         draw needed
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span>M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);
<span class="keyword">local</span> ourNewObject=M2TWEOPFBX.getFbxObject(<span class="number">2</span>);
M2TWEOPFBX.setFbxObjectCoords(ourNewObject,<span class="number">1.2</span>,<span class="number">123.95</span>,<span class="number">1</span>);
<span class="keyword">local</span> x,y,z=M2TWEOPFBX.getFbxObjectCoords(ourNewObject);


M2TWEOPFBX.setFbxObjectSize(ourNewObject,<span class="number">25.2</span>);
<span class="keyword">local</span> size=M2TWEOPFBX.getFbxObjectSize(ourNewObject);


M2TWEOPFBX.setFbxObjectDrawState(ourNewObject,<span class="keyword">true</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.getFbxObjectDrawState"></a>
    <strong>M2TWEOPFBX.getFbxObjectDrawState (fbx)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get fbx object draw state
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fbx</span>
            <span class="types"><span class="type">fbxObject</span></span>
         object
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        is draw needed
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span>M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);
<span class="keyword">local</span> ourNewObject=M2TWEOPFBX.getFbxObject(<span class="number">2</span>);
M2TWEOPFBX.setFbxObjectCoords(ourNewObject,<span class="number">1.2</span>,<span class="number">123.95</span>,<span class="number">1</span>);
<span class="keyword">local</span> x,y,z=M2TWEOPFBX.getFbxObjectCoords(ourNewObject);


M2TWEOPFBX.setFbxObjectSize(ourNewObject,<span class="number">25.2</span>);
<span class="keyword">local</span> size=M2TWEOPFBX.getFbxObjectSize(ourNewObject);


M2TWEOPFBX.setFbxObjectDrawState(ourNewObject,<span class="keyword">true</span>);
<span class="keyword">local</span> isDrawed=M2TWEOPFBX.getFbxObjectDrawState(ourNewObject);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.setFbxObjectAnimState"></a>
    <strong>M2TWEOPFBX.setFbxObjectAnimState (fbx, is)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set fbx object animation state
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fbx</span>
            <span class="types"><span class="type">fbxObject</span></span>
         object
        </li>
        <li><span class="parameter">is</span>
            <span class="types"><span class="type">bool</span></span>
         animation needed
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span>M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);
<span class="keyword">local</span> ourNewObject=M2TWEOPFBX.getFbxObject(<span class="number">2</span>);
M2TWEOPFBX.setFbxObjectCoords(ourNewObject,<span class="number">1.2</span>,<span class="number">123.95</span>,<span class="number">1</span>);
<span class="keyword">local</span> x,y,z=M2TWEOPFBX.getFbxObjectCoords(ourNewObject);


M2TWEOPFBX.setFbxObjectSize(ourNewObject,<span class="number">25.2</span>);
<span class="keyword">local</span> size=M2TWEOPFBX.getFbxObjectSize(ourNewObject);


M2TWEOPFBX.setFbxObjectDrawState(ourNewObject,<span class="keyword">true</span>);
<span class="keyword">local</span> isDrawed=M2TWEOPFBX.getFbxObjectDrawState(ourNewObject);
M2TWEOPFBX.setFbxObjectAnimState(ourNewObject,<span class="keyword">true</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.getFbxObjectAnimState"></a>
    <strong>M2TWEOPFBX.getFbxObjectAnimState (fbx)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get fbx object animation state
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fbx</span>
            <span class="types"><span class="type">fbxObject</span></span>
         object
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        is animation needed
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span>M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);
<span class="keyword">local</span> ourNewObject=M2TWEOPFBX.getFbxObject(<span class="number">2</span>);
M2TWEOPFBX.setFbxObjectCoords(ourNewObject,<span class="number">1.2</span>,<span class="number">123.95</span>,<span class="number">1</span>);
<span class="keyword">local</span> x,y,z=M2TWEOPFBX.getFbxObjectCoords(ourNewObject);


M2TWEOPFBX.setFbxObjectSize(ourNewObject,<span class="number">25.2</span>);
<span class="keyword">local</span> size=M2TWEOPFBX.getFbxObjectSize(ourNewObject);


M2TWEOPFBX.setFbxObjectDrawState(ourNewObject,<span class="keyword">true</span>);
<span class="keyword">local</span> isDrawed=M2TWEOPFBX.getFbxObjectDrawState(ourNewObject);
M2TWEOPFBX.setFbxObjectAnimState(ourNewObject,<span class="keyword">true</span>);
<span class="keyword">local</span> isAnimationPlayed=M2TWEOPFBX.getFbxObjectAnimState(ourNewObject);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.setFbxObjectDrawType"></a>
    <strong>M2TWEOPFBX.setFbxObjectDrawType (fbx, current)</strong>
    </dt>
    <dd>
    <div class="functionDescription">

<p>Set fbx object draw type.  I.e. on what part of game it drawed</p>
<pre><code>Can be:
1 - stratmap
2 - tactmap
0 - both maps

Default value - 1
</code></pre>

    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fbx</span>
            <span class="types"><span class="type">fbxObject</span></span>
         object
        </li>
        <li><span class="parameter">current</span>
            <span class="types"><span class="type">int</span></span>
         draw type
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span>M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);
<span class="keyword">local</span> ourNewObject=M2TWEOPFBX.getFbxObject(<span class="number">2</span>);
M2TWEOPFBX.setFbxObjectCoords(ourNewObject,<span class="number">1.2</span>,<span class="number">123.95</span>,<span class="number">1</span>);
<span class="keyword">local</span> x,y,z=M2TWEOPFBX.getFbxObjectCoords(ourNewObject);


M2TWEOPFBX.setFbxObjectSize(ourNewObject,<span class="number">25.2</span>);
<span class="keyword">local</span> size=M2TWEOPFBX.getFbxObjectSize(ourNewObject);


M2TWEOPFBX.setFbxObjectDrawState(ourNewObject,<span class="keyword">true</span>);
<span class="keyword">local</span> isDrawed=M2TWEOPFBX.getFbxObjectDrawState(ourNewObject);
M2TWEOPFBX.setFbxObjectAnimState(ourNewObject,<span class="keyword">true</span>);

<span class="comment">--get current type
</span><span class="keyword">local</span> whereWeDrawObject=M2TWEOPFBX.getFbxObjectDrawType(ourNewObject);
<span class="comment">--if we draw object on stratmap
</span><span class="keyword">if</span> (whereWeDrawObject==<span class="number">1</span>)
<span class="keyword">then</span>
	<span class="comment">--change drawing type to battle map
</span>	M2TWEOPFBX.setFbxObjectDrawType(ourNewObject,<span class="number">2</span>);
<span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPFBX.getFbxObjectDrawType"></a>
    <strong>M2TWEOPFBX.getFbxObjectDrawType (fbx)</strong>
    </dt>
    <dd>
    <div class="functionDescription">

<p>Get fbx object draw type.  I.e. on what part of game it drawed</p>
<pre><code>Can be:
1 - stratmap
2 - tactmap
0 - both maps

Default value - 1
</code></pre>

    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">fbx</span>
            <span class="types"><span class="type">fbxObject</span></span>
         object
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        current draw type
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="comment">--1 is model id here
</span>M2TWEOPFBX.addFbxModel(M2TWEOP.getModPath()..<span class="string">"/eopData/testmodel.fbx"</span>,M2TWEOP.getModPath()..<span class="string">"/eopData/testtexture.dds"</span>,<span class="number">1</span>);
<span class="keyword">local</span> ourNewModel=M2TWEOPFBX.getFbxModel(<span class="number">1</span>);
<span class="comment">--2 is object id here
</span>M2TWEOPFBX.addFbxObject(<span class="number">1</span>,<span class="number">2</span>);
<span class="keyword">local</span> ourNewObject=M2TWEOPFBX.getFbxObject(<span class="number">2</span>);
M2TWEOPFBX.setFbxObjectCoords(ourNewObject,<span class="number">1.2</span>,<span class="number">123.95</span>,<span class="number">1</span>);
<span class="keyword">local</span> x,y,z=M2TWEOPFBX.getFbxObjectCoords(ourNewObject);


M2TWEOPFBX.setFbxObjectSize(ourNewObject,<span class="number">25.2</span>);
<span class="keyword">local</span> size=M2TWEOPFBX.getFbxObjectSize(ourNewObject);


M2TWEOPFBX.setFbxObjectDrawState(ourNewObject,<span class="keyword">true</span>);
<span class="keyword">local</span> isDrawed=M2TWEOPFBX.getFbxObjectDrawState(ourNewObject);
M2TWEOPFBX.setFbxObjectAnimState(ourNewObject,<span class="keyword">true</span>);
<span class="keyword">local</span> whereWeDrawObject=M2TWEOPFBX.getFbxObjectDrawType(ourNewObject);</pre>
    </ul>

</dd>
</dl>
    <h2 class="section-header "><a name="M2TWEOPSounds"></a>M2TWEOPSounds </h2>

    <dl class="function">
    <dt>
    <a name = "M2TWEOPSounds"></a>
    <strong>M2TWEOPSounds</strong>
    </dt>
    <dd>
    <div class="functionDescription">

<p>Basic M2TWEOPSounds table.  Contains descriptions of m2tweop sounds feathures.</p>
<pre><code>Attention! You can use 256 sounds max.
Support the audio file formats WAV, OGG/Vorbis and FLAC.
You can play many sounds at the same time.
It should be used for small sounds that can fit in memory and should suffer no lag when they are played(i.e.not music).
</code></pre>


    </div>

    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">createEOPSound</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPSounds.createEOPSound">createEOPSound</a></span>



        </li>
        <li><span class="parameter">deleteEOPSound</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPSounds.deleteEOPSound">deleteEOPSound</a></span>



        </li>
        <li><span class="parameter">playEOPSound</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPSounds.playEOPSound">playEOPSound</a></span>



        </li>
        <li><span class="parameter">setEOPSoundOffset</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPSounds.setEOPSoundOffset">setEOPSoundOffset</a></span>



        </li>
        <li><span class="parameter">getEOPSoundOffset</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPSounds.getEOPSoundOffset">getEOPSoundOffset</a></span>



        </li>
        <li><span class="parameter">pauseEOPSound</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPSounds.pauseEOPSound">pauseEOPSound</a></span>



        </li>
        <li><span class="parameter">stopEOPSound</span>
            <span class="types"><a class="type" href="index.html#M2TWEOPSounds.stopEOPSound">stopEOPSound</a></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "M2TWEOPSounds.createEOPSound"></a>
    <strong>M2TWEOPSounds.createEOPSound (soundPath)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Create(and load) new sound
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">soundPath</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         path to sound file
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        soundID id what be used for this model. Return nil if can`t load.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ourNewSound=M2TWEOPSounds.createEOPSound(M2TWEOP.getModPath()..<span class="string">"/eopData/testsound.wav"</span>);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPSounds.deleteEOPSound"></a>
    <strong>M2TWEOPSounds.deleteEOPSound (soundID)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Delete sound
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">soundID</span>
            <span class="types"><span class="type">int</span></span>
         id of sound what you want delete
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ourNewSound=M2TWEOPSounds.createEOPSound(M2TWEOP.getModPath()..<span class="string">"/eopData/testsound.wav"</span>);
M2TWEOPSounds.deleteEOPSound(ourNewSound);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPSounds.playEOPSound"></a>
    <strong>M2TWEOPSounds.playEOPSound (soundID)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Play sound
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">soundID</span>
            <span class="types"><span class="type">int</span></span>
         id of sound
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ourNewSound=M2TWEOPSounds.createEOPSound(M2TWEOP.getModPath()..<span class="string">"/eopData/testsound.wav"</span>);
M2TWEOPSounds.playEOPSound(ourNewSound);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPSounds.setEOPSoundOffset"></a>
    <strong>M2TWEOPSounds.setEOPSoundOffset (soundID, millisecondsOffset)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Set sound playing offset
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">soundID</span>
            <span class="types"><span class="type">int</span></span>
         id of sound
        </li>
        <li><span class="parameter">millisecondsOffset</span>
            <span class="types"><span class="type">int</span></span>
         new playing position, from the beginning of the sound
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ourNewSound=M2TWEOPSounds.createEOPSound(M2TWEOP.getModPath()..<span class="string">"/eopData/testsound.wav"</span>);
M2TWEOPSounds.setEOPSoundOffset(ourNewSound,<span class="number">1000</span>);
M2TWEOPSounds.playSound(ourNewSound);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPSounds.getEOPSoundOffset"></a>
    <strong>M2TWEOPSounds.getEOPSoundOffset (soundID)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Get sound playing offset
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">soundID</span>
            <span class="types"><span class="type">int</span></span>
         id of sound
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        millisecondsOffset new playing position, from the beginning of the sound
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ourNewSound=M2TWEOPSounds.createEOPSound(M2TWEOP.getModPath()..<span class="string">"/eopData/testsound.wav"</span>);
M2TWEOPSounds.playSound(ourNewSound);
<span class="keyword">local</span> currentPlayPosition=M2TWEOPSounds.getEOPSoundOffset(ourNewSound);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPSounds.pauseEOPSound"></a>
    <strong>M2TWEOPSounds.pauseEOPSound (soundID)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Pause sound
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">soundID</span>
            <span class="types"><span class="type">int</span></span>
         id of sound
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ourNewSound=M2TWEOPSounds.createEOPSound(M2TWEOP.getModPath()..<span class="string">"/eopData/testsound.wav"</span>);
M2TWEOPSounds.playSound(ourNewSound);
M2TWEOPSounds.pauseEOPSound(ourNewSound);</pre>
    </ul>

</dd>
    <dt>
    <a name = "M2TWEOPSounds.stopEOPSound"></a>
    <strong>M2TWEOPSounds.stopEOPSound (soundID)</strong>
    </dt>
    <dd>
    <div class="functionDescription">
    Stop sound playing
    </div>

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">soundID</span>
            <span class="types"><span class="type">int</span></span>
         id of sound
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> ourNewSound=M2TWEOPSounds.createEOPSound(M2TWEOP.getModPath()..<span class="string">"/eopData/testsound.wav"</span>);
M2TWEOPSounds.playSound(ourNewSound);
M2TWEOPSounds.stopEOPSound(ourNewSound);</pre>
    </ul>

</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
